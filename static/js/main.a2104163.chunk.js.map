{"version":3,"sources":["aws-exports.js","about-us/about-us.js","authenticator/signIn.js","config.js","redux/types.js","redux/actionCreator.js","absencerequest/absencerequest.js","api/get-free-teachers/get-free-teachers.mapper.js","api/get-child-classes/get-child-classes.mapper.js","merge/merge.js","table/constants.js","error.js","table/table.js","api/get-absent-teachers/get-absent-teachers.mapper.js","api/get-classes/get-classes.mapper.js","api/get-teacher-assignments/get-teacher-assignments.mapper.js","api/get-teachers-requests/get-teachers-requests.mapper.js","api/get-teacher-timetable/get-teacher-timetable.mapper.js","dashboard/constants.js","dashboard/dashboard.js","onboard-partner/constants.js","onboard-partner/onboard-partner.js","error/errorpage.js","landingpage/landingpage.js","auth/appwithauth.js","serviceWorker.js","redux/reducers.js","redux/configureStore.js","index.js"],"names":["awsConfig","aws_project_region","process","aws_cognito_identity_pool_id","AWS_COGNITO_IDENTITY_POOL_ID","aws_cognito_region","aws_user_pools_id","aws_user_pools_web_client_id","oauth","AboutUs","React","createElement","className","id","style","background","href","data-toggle","aria-expanded","CustomSignIn","SignIn","constructor","props","super","this","handleKeyPress","event","key","signInWithLoader","$","show","signIn","then","hide","catch","e","_validAuthStates","bind","showComponent","theme","document","ready","height","parent","click","zIndex","role","data-widget","marginTop","float","fontSize","position","top","paddingTop","display","marginBottom","name","type","onKeyPress","onChange","handleInputChange","placeholder","onClick","config","service_base_url","expire_login","expire_cookie_field","school_id","updateSchoolInfo","schoolObj","schoolId","periodCount","halfDayPeriod","lastActiveDay","isAutoAssigning","updateSelectedTeachersInfo","ids","names","payload","Array","from","updateSelectedClassesInfo","setUserInfo","userInfo","updateBlackListedTeachersInfo","connect","state","isLoading","dispatch","enableLoading","disableLoading","withCookies","Component","logout","cookies","remove","Auth","signOut","makeRegionActive","aboutusRegion","requestRegion","setState","showAboutUsRegion","showPortalRegion","onSubmit","startDate","endDate","teacher_id","description","alert","fill_all_fields","start_date","moment","format","end_date","data","start_date_absent","end_date_absent","console","log","axios","post","base_url","resp","message","error_string","handleStartSelect","date","getTime","invalid_range_string","handleEndSelect","Date","options","componentDidMount","get","set","path","componentDidUpdate","prevProp","authState","inner_resp","list","teachers","map","item","label","value","render","DatePicker","selected","onSelect","Select","opt","maxLength","rows","cols","border","target","getFreeTeacherSelectData","is_parallel","teaches_class","free_count","getChildClassesSelectData","classes","c_class","c_section","day","selectedTeachersIds","selectedTeachersNames","selectedClassesIds","selectedClassesNames","mergeClasses","parentId","fetchAndRenderSubsTeachersTable","fetchAndRenderSubsClassTable","selectedChildClasses","parent_id","children_ids","mergeOptions","mergedChildClasses","childClassStr","join","length","MultiSelect","onSelectedChanged","MIN_WIDTH","MIN_HEIGHT","MAX_HEIGHT_TABLE","no_teacher_string","no_class_string","general_error_string","order","Set","blackListTeachersIds","blackListTeachersNames","handleBtnClick","refs","table","handleSort","substitutePeriod","val","cell","undefined","p_id","t_id","status","removeAsignee","getFreeTeachers","currentFreeTeachers","setReason","row","absent_type","resetReason","changePeriodState","checked","err","removeTeacherFromTables","dataParams","newSelectedIds","delete","newSelectedNames","Teacher","removeClassFromTables","c_id","Class","addTeacherToList","add","whitelistTeacher","newTeacherIds","newTeachersNames","cellPeriodSelectFormat","teacher_sub","p_class","p_section","p_subject","includes","onMenuOpen","have_class","Reason","defaultChecked","is_busy","p_number","periodsFormat","cellClassPeriodSelectFormat","periodList","push","teacher","cellReasonSelectFormat","isEmpty","reasons","cellMergeSelectFormat","Fragment","MergeSelect","cellRemoveButtonFormat","cellRemoveClassButtonFormat","cellImportButtonFormat","cellWhiteListButtonFormat","bodyData","headerData","tableHeadersStrings","filter","colType","TableHeaderColumn","dataAlign","width","columnClassName","tdStyle","whiteSpace","thStyle","isKey","dataSort","dataField","tableHeadersPeriodString","dataFormat","tableHeadersRemoveButtons","tableHeadersClassRemoveButtons","tableHeadersPeriodSelect","tableHeadersClassPeriodSelect","tableHeadersReasonSelect","tableHeadersReasonMergeSelect","tableHeadersImportTeacher","tableHeadersWhiteListTeacher","tableHeaders","prototype","concat","BootstrapTable","maxHeight","ref","getchartTableData","teacherInfo","teacher_list","periodInfo","periods","period_items","mappedResp","_","forEach","el","index","Object","assign","emptyObj","clone","keys","i","getClassChartTableData","child_res","getClassTableData","is_merge_parent","class","section","getTeacherAssignmentsCount","Assignments","count","getTeacherRequest","From-Date","To-Date","getTeacherTimeTableData","daysArr","Day","pr","idx","toString","optionsDays","teacherTableHeaderData","classTableHeaderData","assignedPeriodsDataHeader","blacklistTeacherDataHeader","MAIL_SENT","optionsTeachers","optionsClasses","updateDay","updateTeachersList","updateClassesList","context","constructHeaders","ctr","classChartTableHeaderData","chartTableHeaderData","teacherTimeTableHeaderData","renderAddTeachersTable","teacherDataList","teacherData","renderAddClassTable","classDataList","classData","addTeacher","teacher_name","newSelectedTeachersIds","newSelectedTeachersNames","addClass","class_id","class_section","newSelectedClassesIds","newSelectedClassesNames","getAllTeachers","api_selected_ids","t_absent","api_teachers_names","getAllClasses","api_selected_classes","periodsData","calculateTeacherAssignment","genericErrorAlert","classPeriodsData","renderBlackListTable","blackListData","submitTeachers","size","absent_ids","confirmSubsTab","response","window","location","reload","submitClasses","confirmClassesTab","c_ids","masterReset","assignedPeriodsData","isAutoComplete","attributes","is_auto_assigning","clearInterval","apiPollWorker","startAutoCompleteCheckScheduler","setInterval","autoSubstitute","export","responseType","downloadUrl","URL","createObjectURL","Blob","link","setAttribute","body","appendChild","exportTimetable","teacherTimetableId","exportSubsTeacherTimetable","region","showRegion","sendMail","msg","addTeacherToBlackList","newTeacherNames","hasSetChanged","inpSet1","inpSet2","diff1","x","has","diff2","teacherTableData","teacherRequestData","aboutUsRef","subsSection","timetableTeacherName","displayTeacherTimeTable","teacher_value","today","blackListIds","blackListNames","disabled","src","gender","alt","confirmSubs","styles","menu","provided","SortTable","marginLeft","optionsGender","optionsUserType","showOnboardRegion","showUpdateRegion","file","userData","createUser","newUserData","userName","password","birthDate","email","orgName","userType","signUp","username","birthdate","custom:School","custom:userRole","updateUser","oldUserData","currentAuthenticatedUser","updateUserAttributes","uploadTimeTable","formData","FormData","append","headers","content-type","htmlFor","files","errComponent","resetReduxState","session_time_str","session_time","Math","abs","currentSession","res","jwt","getIdToken","getJwtToken","defaults","common","interceptors","use","__isRetryRequest","Promise","resolve","reject","Authorization","request","error","currentUserInfo","s_name","out_resp","period_count","half_day_period","last_active_day","Router","Switch","Route","exact","Dashboard","AbsenceRequest","OnboardPartner","Redirect","to","component","AppWithAuth","Authenticator","Greetings","SignOut","amplifyConfig","LandingPage","Boolean","hostname","match","getDay","initialState","rootReducer","arguments","action","configureStore","createStore","__REDUX_DEVTOOLS_EXTENSION__","Amplify","configure","Analytics","store","ReactDOM","CookiesProvider","Provider","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.a2104163.chunk.js","sourcesContent":["// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsConfig = {\n    \"aws_project_region\": process.env.AWS_PROJECT_REGION,\n    \"aws_cognito_identity_pool_id\": process.env.AWS_COGNITO_IDENTITY_POOL_ID,\n    \"aws_cognito_region\": process.env.AWS_COGNITO_REGION,\n    \"aws_user_pools_id\": process.env.AWS_USER_POOLS_ID,\n    \"aws_user_pools_web_client_id\": process.env.AWS_USER_POOLS_WEB_CLIENT_ID,\n    \"oauth\": {}\n};\n\nconst signUpConfig = {\n    header: 'Welcome!',\n    defaultCountryCode: '91',\n    hideDefaults: true,\n    signUpFields: [\n      {\n        label: 'Username',\n        key: 'username',\n        required: true,\n        displayOrder: 1,\n        type: 'string',\n      },\n      {\n        label: 'Password',\n        key: 'password',\n        required: true,\n        displayOrder: 2,\n        type: 'password',\n      },\n      {\n        label: 'Email',\n        key: 'email',\n        required: true,\n        displayOrder: 3,\n        type: 'email',\n      },\n      {\n        label: 'Name',\n        key: 'name',\n        required: true,\n        displayOrder: 4,\n        type: 'string',\n      },\n      {\n        label: 'Birthdate',\n        key: 'birthdate',\n        required: true,\n        displayOrder: 5,\n        type: 'date',\n      },\n      {\n        label: 'Gender',\n        key: 'gender',\n        required: true,\n        displayOrder: 5,\n        type: 'string',\n      },\n      {\n        label: 'Phone number',\n        key: 'phone_number',\n        required: false,\n        displayOrder: 6,\n        type: 'string',\n      }\n    ]\n  };\n\n\nexport { awsConfig,signUpConfig };\n","import React from 'react';\n\nconst AboutUs = () => {\nreturn (\n    <section className=\"content\">\n    <div id=\"tabContent\" className=\"nav-tabs-custom\">\n        <ul className=\"nav nav-tabs\" style={{ background: \"#3c8dbc63\" }}>\n        <li className=\"active\"><a id=\"tab2\" href=\"#aboutus_tab_1\" data-toggle=\"tab\" aria-expanded=\"false\">About Us</a></li>\n        </ul>\n        <div className=\"tab-content\">\n        <div className=\"tab-pane active\" id=\"aboutus_tab_1\">\n            <section className=\"mb-4\">\n            <h2 className=\"h1-responsive font-weight-bold text-center my-4\">Contact us</h2>\n            <p className=\"text-center w-responsive mx-auto mb-5\">Do you have any questions? Please do not hesitate to contact us directly. Our team will come back to you within\n                a matter of hours.</p>\n            <div className=\"row\">\n                <div className=\"col-md-5 mb-md-0 mb-5\">\n                <div className=\"text-center text-md-left\">\n                </div>\n                <div className=\"status\"></div>\n                </div>\n                <div className=\"col-md-2  text-center\">\n                <ul className=\"list-unstyled mb-0\">\n                    <li><i className=\"fa fa-map-marker fa-4x\"></i>\n                    <p>Stellar IT Park ,Industrial Area, Sector 62, Noida, Uttar Pradesh 201309</p>\n                    </li>\n                    <li><i className=\"fa fa-envelope fa-4x\"></i>\n                    <p>substitutionpro@gmail.com</p>\n                    </li>\n                </ul>\n                </div>\n            </div>\n            </section>\n        </div>\n        </div>\n    </div>\n    </section>\n);\n}\n\nexport default AboutUs;","import React from \"react\";\nimport { SignIn } from \"aws-amplify-react\";\nimport $ from 'jquery';\nimport './signIn.css';\nimport AboutUs from '../about-us/about-us';\n\nexport class CustomSignIn extends SignIn {\n  constructor(props) {\n    super(props);\n    this._validAuthStates = [\"signIn\", \"signedOut\", \"signedUp\"];\n    this.signInWithLoader = this.signInWithLoader.bind(this);\n  }\n\n  handleKeyPress = (event) => {\n    if (event.key === 'Enter') {\n      this.signInWithLoader();\n    }\n  }\n\n  signInWithLoader = () => {\n    $(\".loader\").show();\n    super.signIn().then(() => { $(\".loader\").hide(); }).catch((e) => { $(\".loader\").hide(); });\n  }\n\n  showComponent(theme) {\n    $(document).ready(function () {\n      $(\".Section__container___3YYTG\").height('100%');\n      $(\".Section__container___3YYTG\").parent().height('100%');\n\n      $(\"#lpane_1\").click(function (e) {\n        $(\"#loginbox\").show();\n        $(\"#contactUs\").hide();\n      });\n\n      $(\"#lpane_2\").click(function (e) {\n        $(\"#loginbox\").hide();\n        $(\"#contactUs\").show();\n      });\n\n      $(\"#contactUs\").hide();\n    });\n\n    return (\n      <div className=\"wrapper\" style={{ height: '100%', zIndex: '1' }}>\n        <header className=\"main-header\">\n          <a href=\"#\" className=\"logo\">\n            <span className=\"logo-mini\"><b>S</b>PRO</span>\n            <span className=\"logo-lg\"><b>Substitution</b>PRO</span>\n          </a>\n          <nav className=\"navbar navbar-static-top\">\n            <a href=\"#\" className=\"sidebar-toggle\" data-toggle=\"push-menu\" role=\"button\">\n              <span className=\"sr-only\">Toggle navigation</span>\n            </a>\n            <div className=\"navbar-custom-menu\">\n              <ul className=\"nav navbar-nav\">\n              </ul>\n            </div>\n          </nav>\n        </header>\n        <aside className=\"main-sidebar\">\n          <section className=\"sidebar\">\n            <div className=\"user-panel\">\n            </div>\n            <ul className=\"sidebar-menu\" data-widget=\"tree\">\n              <li className=\"active treeview\">\n                <a id=\"lpane_1\" href=\"\" data-toggle=\"tab\">\n                  <i className=\"fa fa-dashboard\"></i> <span> Login </span>\n                  <span className=\"pull-right-container\">\n                  </span>\n                </a>\n              </li>\n              {/* <li className=\"treeview\">\n                <a id=\"lpane_2\" href=\"\" data-toggle=\"tab\">\n                  <i className=\"fa fa-dashboard\"></i> <span> About Us </span>\n                  <span className=\"pull-right-container\">\n                  </span>\n                </a>\n              </li> */}\n            </ul>\n\n          </section>\n        </aside>\n        <div className=\"content-wrapper\">\n          <section className=\"content\">\n            <div className=\"container\">\n              <div id=\"loginbox\" style={{ marginTop: '3.125rem' }} className=\"mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2\">\n                <div className=\"panel panel-info\" >\n                  <div className=\"panel-heading\">\n                    <div className=\"panel-title center-block\">Sign In</div>\n                    <div style={{ float: 'right', fontSize: '80%', position: 'relative', top: '-0.625rem' }}></div>\n                  </div>\n\n                  <div style={{ paddingTop: '1.875rem' }} className=\"panel-body\" >\n\n                    <div style={{ display: 'none' }} id=\"login-alert\" className=\"alert alert-danger col-sm-12\"></div>\n\n                    <form id=\"loginform\" className=\"form-horizontal\">\n\n                      <div style={{ marginBottom: '1.5625rem' }} className=\"input-group\">\n                        <span className=\"input-group-addon\"><i className=\"glyphicon glyphicon-user\"></i></span>\n                        <input id=\"username\" key=\"username\" name=\"username\" type=\"text\" onKeyPress={(e) => this.handleKeyPress(e)} onChange={this.handleInputChange} className=\"form-control\" placeholder=\"username or email\" />\n                      </div>\n\n                      <div style={{ marginBottom: '1.5625rem' }} className=\"input-group\">\n                        <span className=\"input-group-addon\"><i className=\"glyphicon glyphicon-lock\"></i></span>\n                        <input id=\"password\" key=\"password\" name=\"password\" type=\"password\" onKeyPress={(e) => this.handleKeyPress(e)} onChange={this.handleInputChange} className=\"form-control\" placeholder=\"password\" />\n                      </div>\n\n                      <div style={{ marginTop: '0.625rem' }} className=\"form-group\">\n\n                        <div className=\"col-sm-12 controls center-block\">\n                          <button type=\"button\" className=\"btn btn-primary\" onClick={() => { this.signInWithLoader() }}>Login   </button>\n                          <div className=\"loader controls center-block\" style={{ display: 'none', marginTop: '0.625rem' }}></div>\n                        </div>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n            <div id=\"contactUs\">\n              <AboutUs />\n            </div>\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\n","export const config = {\n    service_base_url: process.env.BASE_SERVICE_API,\n    expire_login: 4,\n    expire_cookie_field: 'sessionTime',\n    school_id: 5\n};\n","export const UPDATE_SCHOOL_INFO = 'UPDATE_SCHOOL_INFO';\nexport const UPDATE_DAY = 'UPDATE_DAY';\nexport const UPDATE_TEACHERS_LIST = 'UPDATE_TEACHERS_LIST';\nexport const UPDATE_SELECTED_TEACHERS_INFO = 'UPDATE_SELECTED_TEACHERS_INFO';\nexport const UPDATE_SELECTED_CLASSES_INFO = 'UPDATE_SELECTED_CLASSES_INFO';\nexport const UPDATE_CLASSES_LIST = 'UPDATE_CLASSES_LIST';\nexport const UPDATE_BLACK_LISTED_INFO = 'UPDATE_BLACK_LISTED_INFO';\nexport const SET_USER_INFO = 'SET_USER_INFO';\nexport const ENABLE_LOADING = 'ENABLE_LOADING';\nexport const DISABLE_LOADING = 'DISABLE_LOADING';\nexport const PERIOD_COUNT = 'PERIOD_COUNT';\nexport const RESET_REDUX_STATE = 'RESET_REDUX_STATE';","import * as types from './types';\n\nexport const updateSchoolInfo = (schoolObj) => ({\n  type: types.UPDATE_SCHOOL_INFO,\n  schoolId: schoolObj.schoolId,\n  periodCount: schoolObj.periodCount,\n  halfDayPeriod: schoolObj.halfDayPeriod,\n  lastActiveDay: schoolObj.lastActiveDay,\n  isAutoAssigning: schoolObj.isAutoAssigning\n})\n\nexport const updateDay = (day) => ({\n    type: types.UPDATE_DAY,\n    payload: day,\n  });\n\nexport const updateTeachersList = (list) => ({\n    type: types.UPDATE_TEACHERS_LIST,\n    payload: list,\n    });\n\nexport const updateSelectedTeachersInfo = (ids, names) => ({\n    type: types.UPDATE_SELECTED_TEACHERS_INFO,\n    payload: {ids: Array.from(ids), names: Array.from(names)},\n});\n\nexport const updateClassesList = (list) => ({\n    type: types.UPDATE_CLASSES_LIST,\n    payload: list,\n});\n\nexport const updateSelectedClassesInfo = (ids, names) => ({\n    type: types.UPDATE_SELECTED_CLASSES_INFO,\n    payload: {ids: Array.from(ids), names: Array.from(names)},\n});\n\nexport const setUserInfo = (userInfo) => ({\n    type: types.SET_USER_INFO,\n    payload: userInfo,\n});\n\nexport const enableLoading = () => ({\n    type: types.ENABLE_LOADING,\n});\n\nexport const disableLoading = () => ({\n    type: types.DISABLE_LOADING,\n});\n\nexport const setPeriodCount = () => ({\n    type: types.PERIOD_COUNT,\n});\n\nexport const updateBlackListedTeachersInfo = (ids, names) => ({\n    type: types.UPDATE_BLACK_LISTED_INFO,\n    payload: {ids: Array.from(ids), names: Array.from(names)},\n});\n\nexport const resetReduxState = () => ({\n    type: types.RESET_REDUX_STATE,\n});","import React from \"react\";\nimport { connect } from 'react-redux';\nimport $ from 'jquery';\nimport { config } from '../config';\nimport DatePicker from \"react-datepicker\";\nimport axios from 'axios';\nimport Select from 'react-select';\nimport { Auth } from 'aws-amplify';\nimport { withCookies } from 'react-cookie';\nimport moment from 'moment';\nimport AboutUs from '../about-us/about-us';\nimport {\n  updateSchoolInfo,\n  setUserInfo, enableLoading, disableLoading\n} from '../redux/actionCreator';\n\nimport './absencerequest.css';\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nclass AbsenceRequest extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      startDate: new Date(),\n      endDate: new Date(),\n      options: [],\n      showAboutUsRegion: false,\n      showPortalRegion: true\n    };\n    this.description = '';\n    this.teacher_id = '';\n    this.invalid_range_string = 'Start Date cannot be greater than End Date';\n    this.fill_all_fields = 'Please fill all the fields';\n    this.error_string = 'Something went wrong';\n    this.base_url = config.service_base_url;\n  }\n\n  // remove cookie for login session\n  logout = () => {\n    const { cookies } = this.props;\n    cookies.remove(config.expire_cookie_field);\n    Auth.signOut();\n  }\n\n  makeRegionActive = (aboutusRegion, requestRegion) => {\n    this.setState({ showAboutUsRegion: aboutusRegion, showPortalRegion: requestRegion });\n  }\n\n  onSubmit = () => {\n    const { startDate, endDate } = this.state;\n    const { schoolId } = this.props;\n    if (!this.teacher_id || !this.description || !this.state.startDate || !this.state.endDate) {\n      alert(this.fill_all_fields);\n      return;\n    }\n    const start_date = moment(startDate).format('YYYY-MM-DD');\n    const end_date = moment(endDate).format('YYYY-MM-DD');\n\n    const data = {\n      \"school_id\": schoolId,\n      \"teacher_id\": this.teacher_id,\n      \"description\": this.description,\n      \"start_date_absent\": start_date,\n      \"end_date_absent\": end_date,\n    };\n    console.log(data);\n    axios.post(this.base_url + \"/api/create_teacher_request/\", data).then((resp) => alert(resp.data.message)).catch(() => alert(this.error_string));\n  };\n\n  handleStartSelect = (date) => {\n    if (date && this.state.endDate && (date.getTime() > this.state.endDate.getTime())) {\n      alert(this.invalid_range_string);\n      return;\n    }\n    this.setState({\n      startDate: date\n    });\n  }\n\n  handleEndSelect = (date) => {\n    if (date && this.state.startDate && (this.state.startDate.getTime() > date.getTime())) {\n      alert(this.invalid_range_string);\n      return;\n    }\n    this.setState({\n      endDate: date\n    });\n  }\n\n  componentDidMount() {\n    const { cookies } = this.props;\n    //setting a cookie\n    let date = new Date();\n    let session_time_str = cookies.get(config.expire_cookie_field);\n    if (!session_time_str) {\n      cookies.set(config.expire_cookie_field, date, { path: '/' });\n    }\n  }\n\n  componentDidUpdate(prevProp) {\n    const { schoolId, authState } = this.props;\n\n    if (authState === 'signedIn') {\n      if (schoolId !== prevProp.schoolId) {\n        axios.get(config.service_base_url + \"/api/get_all_teachers?school_id=\" + schoolId)\n          .then((inner_resp) => {\n            const list = inner_resp.data.teachers.map((item) => { return { 'label': item[\"name\"], 'value': item[\"id\"] } })\n            this.setState({ options: list })\n          })\n      }\n    }\n  }\n\n  render() {\n    const { showAboutUsRegion, showPortalRegion } = this.state;\n    $(\".Section__container___3YYTG\").height('100%');\n    $(\".Section__container___3YYTG\").parent().height('100%');\n    return (\n      <div className=\"wrapper\" style={{ height: '100%' }}>\n        <header className=\"main-header\">\n          <a href=\"#\" className=\"logo\">\n            <span className=\"logo-mini\"><b>S</b>PRO</span>\n            <span className=\"logo-lg\"><b>Substitution</b>PRO</span>\n          </a>\n          <nav className=\"navbar navbar-static-top\">\n            <a href=\"#\" className=\"sidebar-toggle\" data-toggle=\"push-menu\" role=\"button\">\n              <span className=\"sr-only\">Toggle navigation</span>\n            </a>\n            <div className=\"navbar-custom-menu\">\n              <ul className=\"nav navbar-nav\">\n                <li >\n                  <a href=\"#\" className=\"dropdown-toggle\" data-toggle=\"dropdown\">\n                    <i className=\"fa fa-sign-out\"></i>\n                    <span id=\"logout_button\" className=\"hidden-xs\" onClick={() => this.logout()}>Logout</span>\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </nav>\n        </header>\n        <aside className=\"main-sidebar\">\n          <section className=\"sidebar\">\n            <div className=\"user-panel\">\n            </div>\n            <ul className=\"sidebar-menu\" data-widget=\"tree\">\n              <li className=\"active treeview\">\n                <a id=\"lpane_1\" href=\"#tab_1\" data-toggle=\"tab\" onClick={() => this.makeRegionActive(false, true)}>\n                  <i className=\"fa fa-dashboard\"></i> <span>Raise Request</span>\n                  <span className=\"pull-right-container\">\n                  </span>\n                </a>\n              </li>\n              <li className=\"treeview\">\n                <a id=\"lpane_4\" href=\"#tab_1\" data-toggle=\"tab\" onClick={() => this.makeRegionActive(true, false)}>\n                  <i className=\"fa fa-dashboard\"></i> <span> About Us </span>\n                  <span className=\"pull-right-container\">\n                  </span>\n                </a>\n              </li>\n            </ul>\n          </section>\n        </aside>\n        {showPortalRegion && (<div className=\"content-wrapper\">\n          <section className=\"content\">\n            <div id=\"tabContent\" className=\"nav-tabs-custom\">\n              <ul className=\"nav nav-tabs\" style={{ background: \"#3c8dbc63\" }}>\n                <li className=\"active\"><a id=\"tab1\" href=\"#tab_1\" data-toggle=\"tab\" aria-expanded=\"true\">Raise Request</a></li>\n              </ul>\n              <div className=\"tab-content\">\n                <div className=\"tab-pane active\" id=\"tab_1\">\n                  <div className=\"innerblock row\">\n                    <div className=\"element1 col-md-2\">\n                      <DatePicker\n                        selected={this.state.startDate}\n                        onSelect={this.handleStartSelect} />\n                    </div>\n                    <div className=\"element1 col-md-2\">\n                      <DatePicker\n                        selected={this.state.endDate}\n                        onSelect={this.handleEndSelect} />\n                    </div>\n                    <div className=\"element2 col-md-2\">\n                      <Select options={this.state.options} onChange={opt => { this.teacher_id = opt.value }} />\n                    </div>\n                    <div className=\"element4 col-md-3\">\n                      <button id=\"submit_request\" className=\"btn btn-success btn-sm\" onClick={this.onSubmit} type=\"button\">Submit</button>\n                    </div>\n                  </div>\n                  <div className=\"innerblock row\">\n                    <div className=\"element1 col-md-2\">\n                      <textarea id=\"reason_desc\" maxLength=\"200\" rows=\"5\" cols=\"53\" style={{ border: '0.0625rem solid gray' }}\n                        onChange={(e) => { this.description = e.target.value; }} placeholder=\"Enter reason for request\"></textarea>\n                    </div>\n                  </div>\n                  <div className=\"innerblock row\">\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>)}\n        {showAboutUsRegion && (<div className=\"content-wrapper\">\n          <AboutUs />\n        </div>)}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    schoolId: state.schoolId,\n    userInfo: state.userInfo,\n    isLoading: state.isLoading\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  updateSchoolInfo: (schoolObj) => dispatch(updateSchoolInfo(schoolObj)),\n  setUserInfo: (userInfo) => dispatch(setUserInfo(userInfo)),\n  enableLoading: () => dispatch(enableLoading()),\n  disableLoading: () => dispatch(disableLoading()),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withCookies(AbsenceRequest));","const getFreeTeacherSelectData = (data) => {\n    const mappedResp = data.teachers.map((item) => ({label: item.name\n    + (item.is_parallel ? ' (@) ' : '') + (item.teaches_class ? ' (*) ' : '') + ' : ' + item.free_count , value: item.id}));\n\n    return mappedResp;\n}\n\nexport { getFreeTeacherSelectData};","const getChildClassesSelectData = (data) => {\n    const mappedResp = data.classes.map((item) => ({label: item.c_class + '-' + item.c_section, value: item.id}));\n    return mappedResp;\n}\n\nexport { getChildClassesSelectData};","import { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { config } from '../config';\nimport './merge.css';\nimport MultiSelect from \"@khanacademy/react-multi-select\";\nimport { getChildClassesSelectData } from '../api/get-child-classes/get-child-classes.mapper';\n\n\nclass MergeSelect extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { selectedChildClasses: [], mergeOptions: []\n    };\n  }\n\n  mergeClasses = () => {\n    const { schoolId, day, parentId, fetchAndRenderSubsTeachersTable, fetchAndRenderSubsClassTable } = this.props;\n    const { selectedChildClasses } = this.state;\n    const data = { 'parent_id': parentId, 'children_ids': selectedChildClasses, \"day\": day, 'school_id': schoolId };\n    axios.post(config.service_base_url + \"/api/merge_children_to_parent/\", data)\n      .then((resp) => {\n        fetchAndRenderSubsTeachersTable();\n        fetchAndRenderSubsClassTable();\n      })\n  }\n\n  componentDidMount() {\n    const { schoolId, parentId } = this.props;\n    axios.get(config.service_base_url + \"/api/get_child_classes/?parent_id=\" + parentId + \"&school_id=\" + schoolId)\n      .then((resp) => {\n        this.setState({ mergeOptions: getChildClassesSelectData(resp.data) });\n      })\n  }\n\n  render() {\n      const { mergeOptions, selectedChildClasses } = this.state;\n      const { mergedChildClasses } = this.props;\n      let childClassStr = [];\n      if (mergedChildClasses)\n        childClassStr = mergedChildClasses.join(', ')\n      return (<div className=\"container-merge\">\n        <div className=\"item-merged-classes\">\n        {childClassStr}\n        </div>\n        {mergedChildClasses.length === 0 && (<div>\n        <div className=\"item-multiselect\">\n        <MultiSelect options={mergeOptions} selected={selectedChildClasses} onSelectedChanged={selected => this.setState({selectedChildClasses: selected})} />\n        </div>\n        <div className=\"item-merge-button\">\n        <button className=\"btn btn-primary btn-sm\" onClick={this.mergeClasses}>Merge</button>\n        </div>\n        </div>)}\n      </div>);\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    schoolId: state.schoolId,\n    day: state.day,\n    selectedTeachersIds: state.selectedTeachersIds,\n    selectedTeachersNames: state.selectedTeachersNames,\n    selectedClassesIds: state.selectedClassesIds,\n    selectedClassesNames: state.selectedClassesNames,\n  }\n}\n\n\nexport default connect(mapStateToProps, null)(MergeSelect);","\nconst EXTRA_ROWS_CLASS = 19;\nconst EXTRA_ROWS_TEACHER = 9;\nconst MIN_WIDTH = '19rem';\nconst MIN_HEIGHT = '15.625rem';\nconst MAX_HEIGHT_TABLE = '500';\n\nexport  { EXTRA_ROWS_CLASS, EXTRA_ROWS_TEACHER, MIN_WIDTH, MIN_HEIGHT, MAX_HEIGHT_TABLE };","export const no_teacher_string = 'Select a teacher first';\nexport const no_class_string = 'Select a class first';\nexport const cannot_submit_string = 'Please fill day and teacher first';\nexport const general_error_string = 'Some error occured. Please refresh the page after sometime';\n\nexport default { no_teacher_string, no_class_string, cannot_submit_string, general_error_string } ;","import { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport 'react-bootstrap-table/dist/react-bootstrap-table.min.css';\nimport { getFreeTeacherSelectData } from '../api/get-free-teachers/get-free-teachers.mapper';\nimport './table.css';\nimport axios from 'axios';\nimport { config } from '../config';\nimport Select from 'react-select';\nimport {\n  updateSelectedTeachersInfo,updateSelectedClassesInfo, updateBlackListedTeachersInfo\n} from '../redux/actionCreator';\nimport MergeSelect from '../merge/merge';\nimport { MIN_WIDTH, MIN_HEIGHT, MAX_HEIGHT_TABLE } from './constants';\nimport { general_error_string } from '../error';\n\nlet order = 'desc';\nclass SortTable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { currentFreeTeachers: [], selectedChildClasses: [], mergeOptions: []\n    };\n    this.reasons = [\n      { label: 'Leave', value: 'Leave' },\n      { label: '1st Half Leave', value: '1st Half Leave' },\n      { label: '2nd Half Leave', value: '2nd Half Leave' },\n      { label: 'On Duty', value: 'On Duty' }\n    ]\n    this.mergeOptions = [];\n  }\n\n  handleBtnClick = () => {\n    if (order === 'desc') {\n      this.refs.table.handleSort('asc', 'name');\n      order = 'asc';\n    } else {\n      this.refs.table.handleSort('desc', 'name');\n      order = 'desc';\n    }\n  }\n\n  substitutePeriod = (val, cell) => {\n    if (val === undefined) {\n      return;\n    }\n    const { schoolId, fetchAndRenderSubsTeachersTable, fetchAndRenderSubsClassTable } = this.props;\n    const data = { 'p_id': cell.id, \"t_id\": val, 'school_id': schoolId };\n    axios.post(config.service_base_url + \"/api/substitute_teacher/\", data)\n      .then((resp) => {\n        if (resp.data.status === 'error') {\n          alert(resp.data.message);\n          return;\n        }\n        fetchAndRenderSubsTeachersTable();\n        fetchAndRenderSubsClassTable();\n      })\n  }\n  removeAsignee = (cell) => {\n    const { schoolId, fetchAndRenderSubsTeachersTable, fetchAndRenderSubsClassTable } = this.props;\n    const data = { 'p_id': cell.id, \"school_id\": schoolId };\n    axios.post(config.service_base_url + \"/api/reset_substitution/\", data)\n      .then((resp) => {\n        fetchAndRenderSubsTeachersTable();\n        fetchAndRenderSubsClassTable();\n      })\n\n  }\n\n  getFreeTeachers = (id) => {\n    this.setState({ currentFreeTeachers: [{label: 'Loading..', value: -1}] });\n    const { schoolId } = this.props;\n    axios.get(config.service_base_url + \"/api/get_free_teachers/?p_id=\" + id + \"&school_id=\" + schoolId)\n      .then((resp) => {\n        this.setState({ currentFreeTeachers: getFreeTeacherSelectData(resp.data) });\n      })\n  }\n\n  setReason = (val, row) => {\n    const { schoolId, fetchAndRenderSubsTeachersTable, day } = this.props;\n    const data = { 't_id': row.id, 'absent_type': val, \"day\": day, 'school_id': schoolId };\n    axios.post(config.service_base_url + \"/api/set_absent_type/\", data)\n      .then((resp) => {\n        fetchAndRenderSubsTeachersTable();\n      })\n  }\n\n  resetReason = (row) => {\n    const { schoolId, fetchAndRenderSubsTeachersTable, day } = this.props;\n    const data = { 't_id': row.id, 'absent_type': '', \"day\": day, 'school_id': schoolId };\n    axios.post(config.service_base_url + \"/api/reset_absent_type/\", data)\n      .then((resp) => {\n        fetchAndRenderSubsTeachersTable();\n      })\n  }\n\n  changePeriodState = (event, p_id) => {\n    const {schoolId, day} = this.props;\n    const data = { p_id: p_id, day: day, school_id: schoolId }\n    if(event.target.checked)\n      axios.post(config.service_base_url + \"/api/mark_period_busy/\", data).then((resp) => {}).catch((err) => console.log(err));\n    else\n      axios.post(config.service_base_url + \"/api/unmark_period_busy/\", data).then((resp) => {}).catch((err) => console.log(err));\n  }\n\n  removeTeacherFromTables = (row) => {\n    const { schoolId, day, updateSelectedTeachersInfo, selectedTeachersIds, selectedTeachersNames } = this.props;\n    const dataParams = { \"t_id\": row.id, \"day\": day, \"school_id\": schoolId };\n    axios.post(config.service_base_url + \"/api/remove_teacher_absent_list/\", dataParams)\n      .then((resp) => {\n        let newSelectedIds = new Set(selectedTeachersIds);\n        newSelectedIds.delete(row.id);\n        let newSelectedNames = new Set(selectedTeachersNames);\n        newSelectedNames.delete(row.Teacher);\n        updateSelectedTeachersInfo(newSelectedIds, newSelectedNames);\n      })\n  }\n\n  removeClassFromTables = (row) => {\n    const { schoolId, day, selectedClassesIds, selectedClassesNames, updateSelectedClassesInfo } = this.props;\n    const dataParams = { \"c_id\": row.id, \"day\": day, \"school_id\": schoolId };\n    axios.post(config.service_base_url + \"/api/remove_class_as_parent/\", dataParams)\n      .then((resp) => {\n        let newSelectedIds = new Set(selectedClassesIds);\n        newSelectedIds.delete(row.id);\n        let newSelectedNames = new Set(selectedClassesNames);\n        newSelectedNames.delete(row.Class);\n        updateSelectedClassesInfo(newSelectedIds, newSelectedNames);\n      })\n  }\n\n  addTeacherToList = (row) => {\n    const { selectedTeachersIds, selectedTeachersNames,updateSelectedTeachersInfo} = this.props;\n    let newSelectedIds = new Set(selectedTeachersIds);\n    newSelectedIds.add(row.t_id);\n    let newSelectedNames = new Set(selectedTeachersNames);\n    newSelectedNames.add(row.Teacher);\n    updateSelectedTeachersInfo(newSelectedIds, newSelectedNames);\n  }\n\n  whitelistTeacher = (row) => {\n    const { updateBlackListedTeachersInfo, blackListTeachersIds, blackListTeachersNames, schoolId } = this.props;\n    const newTeacherIds = new Set(blackListTeachersIds);\n    newTeacherIds.delete(row.id);\n    const newTeachersNames = new Set(blackListTeachersNames);\n    newTeachersNames.delete(row.Teacher);\n    const dataParams = { 't_id': row.id, 'school_id': schoolId };\n    axios.post(config.service_base_url + \"/api/white_list_auto_teacher/\", dataParams)\n      .then((resp) => {\n        if(resp.data.status === 'success')\n          updateBlackListedTeachersInfo(newTeacherIds, newTeachersNames);\n        else\n          alert(resp.data.message);\n      }).catch(() => alert(general_error_string));\n  }\n\n  cellPeriodSelectFormat = (cell, row) => {\n    const { periodCount, halfDayPeriod } = this.props;\n    return (<div className=\"container-period\">\n      <div className=\"teacher_subs\">\n        {cell && cell.teacher_sub && <div> {cell.teacher_sub}<button id=\"remove_asignee\" className=\"remove btn btn-danger btn-xs\" onClick={() => this.removeAsignee(cell)}> X </button></div>}\n      </div>\n      <div className=\"period_class\">\n        {cell && cell.p_class !== 0 && cell.p_class !== -1 && <div> {cell.p_class} -  {cell.p_section} </div>}\n      </div>\n      <div className=\"period_subject\">\n        {cell && cell.p_subject && <div> {cell.p_subject} </div>}\n      </div>\n      {cell && cell.p_subject && !cell.p_subject.includes(\"*\") && <div className=\"period_selection\">< Select options={\n        this.state.currentFreeTeachers} placeholder='Select Teacher...'\n        onChange={opt => { if(opt.value !== -1) this.substitutePeriod(opt.value, cell) }}\n        onMenuOpen={() => this.getFreeTeachers(cell.id)} /> </div>}\n\n      {cell && !cell.p_subject && cell.have_class && <b> Period has been substituted </b> }\n\n      {row && row.Reason === 'On Duty' && !cell.have_class && (<div><input type=\"checkbox\" onClick={(e) => this.changePeriodState(e, cell.id) } defaultChecked={ cell.is_busy && true}/></div>) }\n      \n      {row && row.Reason === '1st Half Leave' && !cell.have_class && cell.p_number > (halfDayPeriod) && cell.p_number < periodCount &&\n      (<div><input type=\"checkbox\" onClick={(e) => this.changePeriodState(e, cell.id) } defaultChecked={ cell.is_busy && true}/></div>) }\n\n      {row && row.Reason === '2nd Half Leave' && !cell.have_class && cell.p_number <= (halfDayPeriod) && cell.p_number >= 0 &&\n      (<div><input type=\"checkbox\" onClick={(e) => this.changePeriodState(e, cell.id) } defaultChecked={ cell.is_busy && true}/></div>) }\n\n    </div>);\n  }\n\n  periodsFormat = (cell, row) => {\n    return (<div className=\"container-period\">\n      <div className=\"period_class\">\n        {cell && cell.p_class !== 0 && cell.p_class !== -1 && <div> {cell.p_class} -  {cell.p_section} </div>}\n      </div>\n      <div className=\"period_subject\">\n        {cell && cell.p_subject && <div> {cell.p_subject} </div>}\n      </div>\n    </div>);\n  }\n\n  cellClassPeriodSelectFormat = (cell, row) => {\n    const periodList = [];\n    if (cell) {\n    cell.map((item) => periodList.push(\n      <div key={item.id}>\n        <div className=\"teacher_subs\">\n          {item && item.teacher_sub && <div> {item.teacher_sub} <button className=\"remove btn btn-danger btn-xs\" id=\"remove_asignee\" onClick={() => this.removeAsignee(item)}> X </button> </div>}\n        </div>\n        <div className=\"period_class\">\n          {item && item.teacher && <div> {item.teacher} </div>}\n        </div>\n        <div className=\"period_subject\">\n          {item && item.p_subject && <div> {item.p_subject} </div>}\n        </div>\n        {item.p_subject && !item.p_subject.includes(\"*\") && <div className=\"period_selection\">\n          < Select options={this.state.currentFreeTeachers} placeholder='Select Teacher...' onChange={opt => { this.substitutePeriod(opt.value, item) }} onMenuOpen={() => this.getFreeTeachers(item.id)} />\n        </div>}\n      </div>))\n    }\n    return (<div className=\"container-period\">\n      {periodList}\n    </div>);\n  }\n\n  cellReasonSelectFormat = (cell, row) => {\n    return (<div className=\"container-reason\">\n      <div className=\"reason\">\n      {row && row.Reason && (<div>{row.Reason}<button className=\"remove btn btn-danger btn-xs\" id=\"reset_reason\" onClick={() => this.resetReason(row)}>X</button></div>)}\n      </div>\n      <div className=\"reason-select\">\n      {!row.isEmpty && <Select options={this.reasons} placeholder='Select Reason...' onChange={opt => { this.setReason(opt.value, row) }} />}\n      </div>\n    </div>);\n  }\n\n  cellMergeSelectFormat = (cell, row) => {\n    const { fetchAndRenderSubsClassTable, fetchAndRenderSubsTeachersTable } = this.props;\n    return (<>\n      <div>\n      { !row.isEmpty && <MergeSelect\n        parentId={row.id}\n        mergedChildClasses={row.mergedChildClasses}\n        fetchAndRenderSubsTeachersTable={fetchAndRenderSubsTeachersTable} \n        fetchAndRenderSubsClassTable={fetchAndRenderSubsClassTable}/>\n      }\n      </div>\n    </>);\n  }\n\n  cellRemoveButtonFormat = (cell, row) => {\n    return (<>\n    { !row.isEmpty &&\n    <div className=\"remove_row\"><span className=\"glyphicon glyphicon-trash clickable\" onClick={() => this.removeTeacherFromTables(row)} ></span></div> }\n    </>);\n  }\n\n  cellRemoveClassButtonFormat = (cell, row) => {\n    return (<>\n    {!row.isEmpty && <div className=\"remove_row\">\n      <span className=\"glyphicon glyphicon-trash clickable\"  onClick={() => this.removeClassFromTables(row)} ></span>\n      </div>}\n      </>);\n  }\n\n  cellImportButtonFormat = (cell, row) => {\n    return (\n      <div>\n        <button className=\"btn btn-primary btn-sm\"  onClick={() => this.addTeacherToList(row)} > Import </button>\n      </div>\n    );\n  }\n\n  cellWhiteListButtonFormat = (cell,row) => {\n    return (\n      <div>\n        <button className=\"btn btn-primary btn-sm\"  onClick={() => this.whitelistTeacher(row)} > Whitelist </button>\n      </div>\n    );\n  }\n\n  render() {\n    const { bodyData, headerData } = this.props;\n\n    const tableHeadersStrings = headerData.filter((item) => !item.colType).map((item) =>\n      <TableHeaderColumn dataAlign='center' key={item.name} width={MIN_WIDTH} height={MIN_HEIGHT} columnClassName='allow-select-overflow' tdStyle={{ whiteSpace: 'normal' }}\n        thStyle={{ whiteSpace: 'normal' }} isKey={item.isKey} dataSort={item.dataSort} dataField={item.name}>{item.name}</TableHeaderColumn>\n    );\n    const tableHeadersPeriodString = headerData.filter((item) => item.colType === 'period').map((item) =>\n    <TableHeaderColumn dataAlign='center' dataFormat={this.periodsFormat} key={item.name} width={MIN_WIDTH} height={MIN_HEIGHT} columnClassName='allow-select-overflow' tdStyle={{ whiteSpace: 'normal' }}\n      thStyle={{ whiteSpace: 'normal' }} isKey={item.isKey} dataSort={item.dataSort} dataField={item.name}>{item.name}</TableHeaderColumn>\n  );\n\n    const tableHeadersRemoveButtons = headerData.filter((item) => item.colType === 'removeButton').map((item) =>\n      <TableHeaderColumn dataAlign='center' dataFormat={this.cellRemoveButtonFormat} key={item.name} width={MIN_WIDTH} height={MIN_HEIGHT}\n        columnClassName='allow-select-overflow' tdStyle={{ whiteSpace: 'normal' }} thStyle={{ whiteSpace: 'normal' }}\n        isKey={item.isKey} dataSort={item.dataSort} dataField={item.name}>{item.name}</TableHeaderColumn>);\n\n    const tableHeadersClassRemoveButtons = headerData.filter((item) => item.colType === 'removeClassButton').map((item) =>\n      <TableHeaderColumn dataAlign='center' dataFormat={this.cellRemoveClassButtonFormat} key={item.name} width={MIN_WIDTH} height={MIN_HEIGHT}\n        columnClassName='allow-select-overflow' tdStyle={{ whiteSpace: 'normal' }} thStyle={{ whiteSpace: 'normal' }}\n        isKey={item.isKey} dataSort={item.dataSort} dataField={item.name}>{item.name}</TableHeaderColumn>);\n\n    const tableHeadersPeriodSelect = headerData.filter((item) => item.colType === 'periodSelect').map((item) =>\n      <TableHeaderColumn dataAlign='center' dataFormat={this.cellPeriodSelectFormat} key={item.name} width={MIN_WIDTH} height={MIN_HEIGHT}\n        columnClassName='allow-select-overflow' tdStyle={{ whiteSpace: 'normal' }} thStyle={{ whiteSpace: 'normal' }}\n        isKey={item.isKey} dataSort={item.dataSort} dataField={item.name}>{item.name}</TableHeaderColumn>);\n\n    const tableHeadersClassPeriodSelect = headerData.filter((item) => item.colType === 'classPeriodSelect').map((item) =>\n      <TableHeaderColumn dataAlign='center' dataFormat={this.cellClassPeriodSelectFormat} key={item.name} width={MIN_WIDTH} height={MIN_HEIGHT}\n        columnClassName='allow-select-overflow' tdStyle={{ whiteSpace: 'normal' }} thStyle={{ whiteSpace: 'normal' }}\n        isKey={item.isKey} dataSort={item.dataSort} dataField={item.name}>{item.name}</TableHeaderColumn>);\n\n    const tableHeadersReasonSelect = headerData.filter((item) => item.colType === 'reasonSelect').map((item) =>\n      <TableHeaderColumn dataAlign='center' dataFormat={this.cellReasonSelectFormat} key={item.name} width={MIN_WIDTH} height={MIN_HEIGHT}\n        columnClassName='allow-select-overflow' tdStyle={{ whiteSpace: 'normal' }} thStyle={{ whiteSpace: 'normal' }}\n        isKey={item.isKey} dataSort={item.dataSort} dataField={item.name}>{item.name}</TableHeaderColumn>);\n\n    const tableHeadersReasonMergeSelect = headerData.filter((item) => item.colType === 'reasonMergeSelect').map((item) =>\n    <TableHeaderColumn dataAlign='center' dataFormat={this.cellMergeSelectFormat} key={item.name} width={MIN_WIDTH} height={MIN_HEIGHT}\n      columnClassName='allow-select-overflow' tdStyle={{ whiteSpace: 'normal' }} thStyle={{ whiteSpace: 'normal' }}\n      isKey={item.isKey} dataSort={item.dataSort} dataField={item.name}>{item.name}</TableHeaderColumn>);\n    \n    const tableHeadersImportTeacher= headerData.filter((item) => item.colType === 'importTeacher').map((item) =>\n    <TableHeaderColumn dataAlign='center' dataFormat={this.cellImportButtonFormat} key={item.name} width={MIN_WIDTH} height={MIN_HEIGHT}\n      columnClassName='allow-select-overflow' tdStyle={{ whiteSpace: 'normal' }} thStyle={{ whiteSpace: 'normal' }}\n      isKey={item.isKey} dataSort={item.dataSort} dataField={item.name}>{item.name}</TableHeaderColumn>);\n\n      const tableHeadersWhiteListTeacher = headerData.filter((item) => item.colType === 'whiteListButton').map((item) =>\n      <TableHeaderColumn dataAlign='center' dataFormat={this.cellWhiteListButtonFormat} key={item.name} width={MIN_WIDTH} height={MIN_HEIGHT}\n        columnClassName='allow-select-overflow' tdStyle={{ whiteSpace: 'normal' }} thStyle={{ whiteSpace: 'normal' }}\n        isKey={item.isKey} dataSort={item.dataSort} dataField={item.name}>{item.name}</TableHeaderColumn>);\n\n    const tableHeaders = Array.prototype.concat(tableHeadersImportTeacher,tableHeadersStrings,tableHeadersPeriodString, tableHeadersReasonMergeSelect, \n      tableHeadersReasonSelect,tableHeadersClassPeriodSelect, tableHeadersPeriodSelect, \n      tableHeadersRemoveButtons, tableHeadersClassRemoveButtons, tableHeadersWhiteListTeacher);\n\n    return (\n      <div>\n        <BootstrapTable maxHeight={MAX_HEIGHT_TABLE} ref='table' data={bodyData}>\n          {tableHeaders}\n        </BootstrapTable>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    schoolId: state.schoolId,\n    day: state.day,\n    selectedTeachersIds: new Set(state.selectedTeachersIds),\n    selectedTeachersNames: new Set(state.selectedTeachersNames),\n    selectedClassesIds: new Set(state.selectedClassesIds),\n    selectedClassesNames: new Set(state.selectedClassesNames),\n    blackListTeachersIds: new Set(state.blackListTeachersIds),\n    blackListTeachersNames: new Set(state.blackListTeachersNames),\n    periodCount : state.periodCount,\n    halfDayPeriod: state.halfDayPeriod\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  updateSelectedTeachersInfo : (ids, names) => dispatch(updateSelectedTeachersInfo(ids, names)),\n  updateSelectedClassesInfo : (ids, names) => dispatch(updateSelectedClassesInfo(ids, names)),\n  updateBlackListedTeachersInfo : (ids, names) => dispatch(updateBlackListedTeachersInfo(ids, names)),\n})\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SortTable);","import _ from 'lodash';\nimport { EXTRA_ROWS_TEACHER } from '../../table/constants';\n\nconst getchartTableData = (data) => {\n    const teacherInfo= data.teacher_list.map((item) => ({ \n            Teacher: item.name,\n            id: item.id,\n            Reason: item.absent_type,\n            isEmpty: false,\n    }));\n    const periodInfo = data.teacher_list.map((item) => (item.periods.map((period_items) => (period_items))));\n    const mappedResp = []\n    _.forEach(teacherInfo,(el, index) => {\n        mappedResp.push(Object.assign({}, el, periodInfo[index]));\n    });\n    // add empty rows only if data is available\n    if(data.teacher_list.length > 0){\n        let emptyObj = mappedResp.length > 0 ? _.clone(mappedResp[mappedResp.length-1]) : {};\n        Object.keys(emptyObj).forEach((key) => { emptyObj[key] = null });\n        emptyObj.isEmpty = true;\n        for(let i = 0 ;i < EXTRA_ROWS_TEACHER; i++)\n            mappedResp.push(emptyObj);\n    }\n\n    return mappedResp;\n\n}\n\nexport { getchartTableData };","import _ from 'lodash';\nimport { EXTRA_ROWS_CLASS } from '../../table/constants';\n\nconst getClassChartTableData = (data) => {\n    const teacherInfo= data.classes.map((item) => ({ \n            Class: item.c_class + \"-\" + item.c_section,\n            id: item.id,\n            mergedChildClasses: item.child_res.map(el => el.c_class + '-' + el.c_section),\n            isEmpty: false,\n    }));\n    const periodInfo = data.classes.map((item) => (item.periods.map((period_items) => (period_items))));\n    const mappedResp = []\n    _.forEach(teacherInfo,(el, index) => {\n        mappedResp.push(Object.assign({}, el, periodInfo[index]));\n    });\n    // add empty rows\n    if(data.classes.length > 0) {\n        let emptyObj = mappedResp.length > 0 ? _.clone(mappedResp[mappedResp.length-1]) : {};\n        Object.keys(emptyObj).forEach((key) => { emptyObj[key] = null });\n        emptyObj.isEmpty = true;\n        for(let i = 0 ;i < EXTRA_ROWS_CLASS; i++)\n            mappedResp.push(emptyObj);\n    }\n    return mappedResp;\n\n}\nconst getClassTableData = (data) => {\n    const mappedResp= data.classes.filter((item) => item.is_merge_parent === true).map((item) => ({ \n            Class: item.class + \"-\" + item.section,\n            id: item.id,\n    }));\n    return mappedResp;\n\n}\n\nexport { getClassTableData, getClassChartTableData };","const getTeacherAssignmentsCount = (data) => {\n    const mappedResp = data.teachers.map((item) => ({Teacher: item.name, Assignments: item.count}));\n\n    return mappedResp;\n}\n\nexport { getTeacherAssignmentsCount};","import moment from 'moment';\n\nconst getTeacherRequest = (data) => {\n    const mappedResp = data.data.map((item) => ({id:item.id,t_id: item.t_id, Teacher: item.name,\n         'From-Date': moment(item.start_date_absent,'YYYY-MM-DD').format('DD-MM-YYYY'),\n        'To-Date': moment(item.end_date_absent, 'YYYY-MM-DD').format('DD-MM-YYYY'), Reason: item.description}));\n\n    return mappedResp;\n}\n\nexport { getTeacherRequest};\n","import _ from 'lodash';\n\nconst getTeacherTimeTableData = (data) => {\n    const daysArr = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n    const teacherInfo = [];\n    _.forEach(data.periods,(day, index) => {\n        teacherInfo.push({Day: daysArr[index]});\n        _.forEach(day,(pr, idx)=>{\n            teacherInfo[index][idx.toString()] = pr;\n        })\n    });\n    return teacherInfo;\n}\n\nexport { getTeacherTimeTableData };","export const optionsDays = [\n    { value: 0, label: 'Monday' },\n    { value: 1, label: 'Tuesday' },\n    { value: 2, label: 'Wednesday' },\n    { value: 3, label: 'Thursday' },\n    { value: 4, label: 'Friday' },\n  ];\n\nexport const teacherTableHeaderData = [\n    { name: \"Teacher\", isKey: true, dataSort: true },\n    { name: \"Edit\", colType: 'removeButton' },\n  ];\n\nexport const teacherRequestHeaderData = [\n  { name: \"Choose\", colType: 'importTeacher' },\n  { name: \"Teacher\", isKey: true, dataSort: true },\n  { name: \"From-Date\", dataSort:true },\n  { name: \"To-Date\", dataSort:true },\n  { name: \"Reason\" },\n  \n];\n\nexport const classTableHeaderData = [\n    { name: \"Class\", isKey: true, dataSort: true },\n    { name: \"Edit\", colType: 'removeClassButton' },\n  ];\n\nexport const assignedPeriodsDataHeader = [\n    { name: \"Teacher\", isKey: true, dataSort: true },\n    { name: \"Assignments\", dataSort: true },\n  ];\n\nexport const blacklistTeacherDataHeader = [\n    { name: \"Teacher\", isKey: true, dataSort: true },\n    { name: \"Edit\", colType: 'whiteListButton' },\n  ];\n\nexport const legendsHeader = [\n    { name: \"Symbol\", isKey: true, dataSort: true },\n    { name: \"Meaning\" },\n  ];\n\nexport const legendsData = [\n    { Symbol: '@', Meaning: 'Teacher takes a parallel class'},\n    { Symbol: '*', Meaning: 'Teacher teaches some subject to that class'},\n    { Symbol: '*FM', Meaning: 'Teacher has a faculty meet'},\n    { Symbol: '*TT', Meaning: 'Teacher is busy in substitution work'},\n\n  ];\n\nexport const MAIL_SENT = 'Mail has been sent';\n\nexport default {optionsDays, teacherTableHeaderData, classTableHeaderData, assignedPeriodsDataHeader, MAIL_SENT, legendsHeader};","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport $ from 'jquery';\nimport { Auth } from 'aws-amplify';\nimport { config } from '../config';\nimport { withCookies } from 'react-cookie';\nimport Select from 'react-select';\nimport axios from 'axios';\nimport SortTable from '../table/table';\nimport './dashboard.css';\nimport { getchartTableData } from '../api/get-absent-teachers/get-absent-teachers.mapper';\nimport { getClassTableData, getClassChartTableData } from '../api/get-classes/get-classes.mapper';\nimport { getTeacherAssignmentsCount } from '../api/get-teacher-assignments/get-teacher-assignments.mapper';\nimport { getTeacherRequest } from '../api/get-teachers-requests/get-teachers-requests.mapper';\nimport { getTeacherTimeTableData } from '../api/get-teacher-timetable/get-teacher-timetable.mapper';\nimport {\n  updateDay, updateTeachersList, updateSelectedTeachersInfo, updateSelectedClassesInfo,\n  updateClassesList, enableLoading, disableLoading, updateBlackListedTeachersInfo\n} from '../redux/actionCreator';\nimport _ from 'lodash';\nimport {\n  optionsDays, teacherTableHeaderData, classTableHeaderData, assignedPeriodsDataHeader,\n  teacherRequestHeaderData, MAIL_SENT, blacklistTeacherDataHeader, legendsHeader, legendsData\n} from './constants';\nimport { no_teacher_string, no_class_string, general_error_string } from '../error';\nimport moment from 'moment';\nimport AboutUs from '../about-us/about-us';\n\nclass Dashboard extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      periodsData: [],\n      teacherData: [],\n      teacherTableData: [],\n      teacherRequestData: [],\n      classData: [],\n      classPeriodsData: [],\n      blackListData: [],\n      assignedPeriodsData: [],\n      showRegion: 'substitution',\n      isAutoAssigning: false,\n    };\n    this.teacher_id = '';\n    this.teacher_name = '';\n    this.class_id = '';\n    this.class_section = '';\n\n    this.chartTableHeaderData = [\n      { name: \"Teacher\", isKey: true },\n      { name: \"Reason\", colType: 'reasonSelect' },\n    ];\n\n    this.teacherTimeTableHeaderData = [\n      { name: \"Day\", isKey: true },\n    ];\n\n\n    this.classChartTableHeaderData = [\n      { name: \"Class\", isKey: true },\n      { name: \"Merge\", colType: 'reasonMergeSelect' },\n    ];\n    this.confirmSubsTab = undefined;\n    this.confirmClassesTab = undefined;\n    this.aboutUsRef = undefined;\n    this.subsSection = undefined;\n    this.apiPollWorker = null;\n    this.timetableTeacherName = '';\n    this.teacherTimetableId = -1;\n  }\n\n  // remove cookie for login session\n  logout = () => {\n    const { cookies } = this.props;\n    cookies.remove(config.expire_cookie_field);\n    Auth.signOut();\n  }\n\n  constructHeaders = (count) => {\n    for (let ctr = 0; ctr < count; ctr++) {\n      this.classChartTableHeaderData.push({ name: ctr.toString(), colType: 'classPeriodSelect' });\n      this.chartTableHeaderData.push({ name: ctr.toString(), colType: 'periodSelect' });\n      this.teacherTimeTableHeaderData.push({ name: ctr.toString(), colType: 'period' });\n    }\n    this.chartTableHeaderData.push({ name: 'Edit', colType: 'removeButton' });\n    this.classChartTableHeaderData.push({ name: 'Edit', colType: 'removeClassButton' });\n  }\n\n  renderAddTeachersTable = () => {\n    const { selectedTeachersIds, selectedTeachersNames } = this.props;\n    const teacherDataList = [];\n    _.forEach(Array.from(selectedTeachersNames), (el, index) => {\n      teacherDataList.push({ Teacher: el, id: Array.from(selectedTeachersIds)[index] });\n    });\n    this.setState({ teacherData: teacherDataList });\n  }\n\n  renderAddClassTable = () => {\n    const { selectedClassesIds, selectedClassesNames } = this.props;\n    const classDataList = [];\n    _.forEach(Array.from(selectedClassesNames), (el, index) => {\n      classDataList.push({ Class: el, id: Array.from(selectedClassesIds)[index] });\n    });\n    this.setState({ classData: classDataList });\n  }\n\n\n  addTeacher = () => {\n    const { selectedTeachersIds, updateSelectedTeachersInfo, selectedTeachersNames } = this.props;\n    if (!this.teacher_id || !this.teacher_name) {\n      alert(no_teacher_string);\n      return;\n    }\n    const newSelectedTeachersIds = new Set(selectedTeachersIds);\n    newSelectedTeachersIds.add(this.teacher_id);\n    const newSelectedTeachersNames = new Set(selectedTeachersNames);\n    newSelectedTeachersNames.add(this.teacher_name);\n    updateSelectedTeachersInfo(newSelectedTeachersIds, newSelectedTeachersNames);\n  }\n\n  addClass = () => {\n    const { selectedClassesIds, updateSelectedClassesInfo, selectedClassesNames } = this.props;\n    if (!this.class_id || !this.class_section) {\n      alert(no_class_string);\n      return;\n    }\n    const newSelectedClassesIds = new Set(selectedClassesIds);\n    newSelectedClassesIds.add(this.class_id)\n    const newSelectedClassesNames = new Set(selectedClassesNames);\n    newSelectedClassesNames.add(this.class_section)\n    updateSelectedClassesInfo(newSelectedClassesIds, newSelectedClassesNames);\n  }\n\n  getAllTeachers = (schoolId) => {\n    const { updateTeachersList, updateSelectedTeachersInfo } = this.props;\n    axios.get(config.service_base_url + \"/api/get_all_teachers/?school_id=\" + schoolId)\n      .then((inner_resp) => {\n        const api_selected_ids = new Set(inner_resp.data.teachers.filter((item) => item.t_absent === true).map((item) => item.id));\n        const api_teachers_names = new Set(inner_resp.data.teachers.filter((item) => item.t_absent === true).map((item) => item.name));\n        const list = inner_resp.data.teachers.map((item) => { return { 'label': item.name, 'value': item.id } })\n        updateTeachersList(list);\n        updateSelectedTeachersInfo(api_selected_ids, api_teachers_names);\n      });\n  }\n\n  getAllClasses = (schoolId) => {\n    const { updateSelectedClassesInfo, updateClassesList } = this.props;\n    axios.get(config.service_base_url + \"/api/get_all_classes/?school_id=\" + schoolId)\n      .then((inner_resp) => {\n        const list = inner_resp.data.classes.map((item) => { return { 'label': item.class + \"-\" + item.section, 'value': item.id } })\n        const api_selected_ids = new Set(inner_resp.data.classes.filter((item) => item.is_merge_parent === true).map((item) => item.id));\n        const api_selected_classes = new Set(inner_resp.data.classes.filter((item) => item.is_merge_parent === true).map((item) => item.class + \"-\" + item.section));\n        updateClassesList(list);\n        updateSelectedClassesInfo(api_selected_ids, api_selected_classes);\n        this.setState({\n          classData: getClassTableData(inner_resp.data)\n        });\n      });\n  }\n\n  fetchAndRenderSubsTeachersTable = () => {\n    const { schoolId, day } = this.props;\n    axios.get(config.service_base_url + \"/api/get_absent_teachers/?day=\" + day + \"&school_id=\" + schoolId)\n      .then((resp) => {\n        this.setState({ periodsData: getchartTableData(resp.data) });\n        //calculate teacher assigments\n        this.calculateTeacherAssignment();\n      })\n      .catch(() => { this.genericErrorAlert(general_error_string) })\n  }\n\n  fetchAndRenderSubsClassTable = () => {\n    const { schoolId, day } = this.props;\n    axios.get(config.service_base_url + \"/api/get_teachers_for_classes/?day=\" + day + \"&school_id=\" + schoolId)\n      .then((resp) => {\n        this.setState({ classPeriodsData: getClassChartTableData(resp.data) });\n        //calculate teacher assigments\n        this.calculateTeacherAssignment();\n      })\n      .catch((err) => { this.genericErrorAlert(general_error_string) })\n  }\n\n  renderBlackListTable = () => {\n    const { blackListTeachersIds, blackListTeachersNames } = this.props;\n    const blackListData = [];\n    _.forEach(Array.from(blackListTeachersNames), (el, index) => {\n      blackListData.push({ Teacher: el, id: Array.from(blackListTeachersIds)[index] })\n    });\n    this.setState({ blackListData: blackListData });\n  }\n\n  submitTeachers = () => {\n    const { selectedTeachersIds, schoolId, day, enableLoading, disableLoading } = this.props;\n    if (!selectedTeachersIds.size || day === undefined || !schoolId) {\n      return;\n    }\n    enableLoading();\n\n    var dataParams = { 'absent_ids': Array.from(selectedTeachersIds), 'day': day, 'school_id': schoolId };\n    axios.post(config.service_base_url + \"/api/set_absent_teachers/\", dataParams)\n      .then(() => {\n        this.fetchAndRenderSubsTeachersTable();\n        //calculate teacher assigments\n        this.calculateTeacherAssignment();\n        this.confirmSubsTab.click();\n        disableLoading();\n      })\n      .catch((err) => {\n          if (err.response && err.response.data) {\n            alert(err.response.data.message);\n            window.location.reload();\n          }\n          else {\n          alert(general_error_string);\n          }\n          disableLoading(); \n        });\n  }\n  submitClasses = () => {\n    const { selectedClassesIds, schoolId, day, enableLoading, disableLoading } = this.props;\n    if (!selectedClassesIds.size || day === undefined || !schoolId) {\n      return;\n    }\n    enableLoading();\n    this.confirmClassesTab.click();\n    var dataParams = { 'c_ids': Array.from(selectedClassesIds), 'day': day, 'school_id': schoolId };\n    axios.post(config.service_base_url + \"/api/set_classes_as_parent/\", dataParams)\n      .then((resp) => {\n        this.fetchAndRenderSubsClassTable();\n        //calculate teacher assigments\n        this.calculateTeacherAssignment();\n        disableLoading();\n      })\n      .catch(() => this.genericErrorAlert(general_error_string));\n  }\n\n  masterReset = () => {\n    const { schoolId, updateSelectedTeachersInfo, updateSelectedClassesInfo, enableLoading, disableLoading } = this.props;\n    enableLoading();\n    const dataParams = { 'school_id': schoolId };\n    axios.post(config.service_base_url + \"/api/reset_all_substituted_periods/\", dataParams)\n      .then((resp) => {\n        updateSelectedTeachersInfo(new Set(), new Set());\n        updateSelectedClassesInfo(new Set(), new Set());\n        this.setState({\n          periodsData: [],\n          teacherData: [],\n          classData: [],\n          classPeriodsData: [],\n          assignedPeriodsData: []\n        })\n        disableLoading();\n      }).catch(() => this.genericErrorAlert(general_error_string));\n  }\n\n  isAutoComplete = () => {\n    const { userInfo } = this.props;\n    axios.get(config.service_base_url + \"/api/get_school_info?school_name=\" + userInfo.attributes['custom:School'])\n      .then((resp) => {\n        if (!resp.data.data.is_auto_assigning) {\n          console.log('processing is done');\n          clearInterval(this.apiPollWorker);\n          this.setState({ isAutoAssigning: false });\n          this.fetchAndRenderSubsTeachersTable();\n        }\n      }).catch((err) => {\n        this.genericErrorAlert(general_error_string);\n        clearInterval(this.apiPollWorker);\n        this.setState({ isAutoAssigning: false });\n      }\n      );\n  }\n\n  startAutoCompleteCheckScheduler = () => {\n    this.setState({ isAutoAssigning: true });\n    this.apiPollWorker = setInterval(() => this.isAutoComplete(), 10000);\n  }\n\n  autoSubstitute = () => {\n    const { schoolId, day, selectedTeachersIds, enableLoading, disableLoading } = this.props;\n    const data = { 'day': day, 'school_id': schoolId };\n    if (selectedTeachersIds.size) {\n      enableLoading();\n      axios.post(config.service_base_url + \"/api/auto_substitute_teachers/\", data)\n        .then((resp) => {\n          this.startAutoCompleteCheckScheduler();\n          this.fetchAndRenderSubsTeachersTable();\n          disableLoading();\n        }).catch(() => this.genericErrorAlert(general_error_string));\n    }\n  }\n\n  export = () => {\n    const { schoolId, day, selectedTeachersIds } = this.props;\n    if (selectedTeachersIds.size)\n      axios.get(config.service_base_url + '/api/export_time_table/?day=' + day + '&school_id=' + schoolId, {responseType: 'blob'} ).then((response) => {\n          const downloadUrl = window.URL.createObjectURL(new Blob([response.data]));\n          const link = document.createElement('a');\n          link.href = downloadUrl;\n          const date = new Date();\n          link.setAttribute('download', 'substitution-' + moment(date, 'x') + '.xls');\n          document.body.appendChild(link);\n          link.click();\n          link.remove();\n        });\n  }\n\n  exportTimetable = () => {\n    const { schoolId } = this.props;\n    if (this.teacherTimetableId !== -1){\n      axios.get(config.service_base_url + '/api/export_teacher_timetable/?t_id=' + this.teacherTimetableId + '&school_id=' + schoolId, {responseType: 'blob'} ).then((response) => {\n        const downloadUrl = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = downloadUrl;\n        const date = new Date();\n        link.setAttribute('download', 'timetable-' + moment(date, 'x') + '.xls');\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n      });\n    }\n  }\n\n  exportSubsTeacherTimetable = () => {\n    const { schoolId, day, selectedTeachersIds } = this.props;\n    if (selectedTeachersIds.size){\n      axios.get(config.service_base_url + '/api/export_subs_teacher_timetable/?day=' + day + '&school_id=' + schoolId, {responseType: 'blob'} ).then((response) => {\n        const downloadUrl = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = downloadUrl;\n        const date = new Date();\n        link.setAttribute('download', 'subs-teacher-' + moment(date, 'x') + '.xls');\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n      });\n    }\n  }\n\n  calculateTeacherAssignment = () => {\n    const { schoolId, day } = this.props;\n    axios.get(config.service_base_url + \"/api/calculate_teacher_assignment/?day=\" + day + \"&school_id=\" + schoolId)\n      .then((resp) => {\n        this.setState({ assignedPeriodsData: getTeacherAssignmentsCount(resp.data) });\n      }).catch(() => this.genericErrorAlert(general_error_string));\n  }\n\n  makeRegionActive = (region) => {\n    this.setState({ showRegion: region });\n  }\n\n  sendMail = () => {\n    const { selectedTeachersIds, schoolId, day, enableLoading, disableLoading } = this.props;\n    if (!selectedTeachersIds.size || day === undefined || !schoolId) {\n      return;\n    }\n    enableLoading();\n    axios.get(config.service_base_url + \"/api/send_mail/?day=\" + day + \"&school_id=\" + schoolId)\n      .then((resp) => {\n        disableLoading();\n        alert(MAIL_SENT);\n      }).catch(() => this.genericErrorAlert(general_error_string));\n  }\n\n  genericErrorAlert = (msg) => {\n    const { disableLoading } = this.props;\n    // todo : add logging\n    alert(msg);\n    disableLoading();\n  }\n\n  addTeacherToBlackList = (opt) => {\n    const { updateBlackListedTeachersInfo, blackListTeachersIds, blackListTeachersNames, schoolId } = this.props;\n    const newTeacherIds = new Set(blackListTeachersIds);\n    newTeacherIds.add(opt.value);\n    const newTeacherNames = new Set(blackListTeachersNames);\n    newTeacherNames.add(opt.label);\n    const dataParams = { 't_id': opt.value, 'school_id': schoolId };\n    axios.post(config.service_base_url + \"/api/black_list_auto_teacher/\", dataParams)\n      .then((resp) => {\n        if (resp.data.status === 'success')\n          updateBlackListedTeachersInfo(newTeacherIds, newTeacherNames);\n        else\n          alert(resp.data.message);\n      }).catch(() => this.genericErrorAlert(general_error_string));\n  }\n\n  hasSetChanged = (inpSet1, inpSet2) => {\n    const diff1 = [...inpSet1].filter(x => !inpSet2.has(x));\n    const diff2 = [...inpSet2].filter(x => !inpSet1.has(x));\n    return diff1.length > 0 || diff2 > 0;\n  }\n\n  displayTeacherTimeTable(teacher_name, teacher_value) {\n    const { schoolId } = this.props;\n    axios.get(config.service_base_url + \"/api/get_teacher_timetable/?t_id=\" + teacher_value + \"&school_id=\" + schoolId)\n      .then((resp) => {\n        this.setState({ teacherTableData: getTeacherTimeTableData(resp.data) });\n      })\n      .catch(() => { this.genericErrorAlert(general_error_string) })\n  }\n\n  componentDidMount() {\n    const { cookies } = this.props;\n    //setting a cookie\n    let date = new Date();\n    let session_time_str = cookies.get(config.expire_cookie_field);\n    if (!session_time_str) {\n      cookies.set(config.expire_cookie_field, date, { path: '/' });\n    }\n  }\n\n  componentDidUpdate(prevProp) {\n    const { schoolId, isAutoAssigning, periodCount, authState, updateBlackListedTeachersInfo } = this.props;\n    if (authState === 'signedIn') {\n      if (this.hasSetChanged(this.props.selectedTeachersIds, prevProp.selectedTeachersIds)) {\n        this.renderAddTeachersTable();\n        this.fetchAndRenderSubsTeachersTable();\n      }\n\n      if (this.hasSetChanged(this.props.selectedClassesIds, prevProp.selectedClassesIds)) {\n        this.renderAddClassTable();\n        this.fetchAndRenderSubsClassTable();\n      }\n\n      if (this.hasSetChanged(this.props.blackListTeachersIds, prevProp.blackListTeachersIds)) {\n        this.renderBlackListTable();\n      }\n\n      if (schoolId !== prevProp.schoolId) {\n        //fetch teacher list for the school\n        this.getAllTeachers(schoolId);\n        //fetch class list for the school\n        this.getAllClasses(schoolId);\n\n        // fetch teacher requests \n        const today = moment().format('YYYY-MM-DD')\n        axios.get(config.service_base_url + \"/api/get_teacher_request_list?school_id=\"\n          + schoolId + \"&start_date=\" + today + \"&end_date=\" + today)\n          .then((resp) => {\n            this.setState({ teacherRequestData: getTeacherRequest(resp.data) });\n          });\n\n        // fetch auto blacklisted teachers\n        axios.get(config.service_base_url + \"/api/fetch_auto_black_list_teacher?school_id=\"\n          + schoolId)\n          .then((resp) => {\n            const blackListIds = new Set(resp.data.teachers.map((item) => item.id));\n            const blackListNames = new Set(resp.data.teachers.map((item) => item.name));\n            updateBlackListedTeachersInfo(blackListIds, blackListNames);\n          });\n      }\n      if (isAutoAssigning !== prevProp.isAutoAssigning) {\n        // if auto assign is in progress.. start apipollworker\n        this.startAutoCompleteCheckScheduler();\n      }\n\n      if (periodCount !== prevProp.periodCount) {\n        this.constructHeaders(periodCount);\n      }\n    }\n  }\n\n  render() {\n    // fix height on load\n    $(\".Section__container___3YYTG\").height('100%');\n    $(\".Section__container___3YYTG\").parent().height('100%');\n    const { day, updateDay, optionsTeachers, optionsClasses, userInfo, isLoading } = this.props;\n    const { showRegion, isAutoAssigning, blackListData, teacherTableData,\n      teacherData, teacherRequestData, periodsData, assignedPeriodsData, classData, classPeriodsData } = this.state;\n    return (<>\n      {isLoading && <div className=\"loader-full\"></div>}\n      <div className={`${isLoading ? 'loading-layer' : ''} wrapper`} style={{ height: '100%' }} disabled>\n        <header className=\"main-header\">\n          <a href=\"#\" className=\"logo\">\n            <span className=\"logo-mini\"><b>S</b>PRO</span>\n            <span className=\"logo-lg\"><b>Substitution</b>PRO</span>\n          </a>\n          <nav className=\"navbar navbar-static-top\">\n            <a href=\"#\" className=\"sidebar-toggle\" data-toggle=\"push-menu\" role=\"button\">\n              <span className=\"sr-only\">Toggle navigation</span>\n            </a>\n            <div className=\"navbar-custom-menu\">\n              <ul className=\"nav navbar-nav\">\n                <li>\n                  <a href=\"#\" className=\"dropdown-toggle\" data-toggle=\"dropdown\">\n                    <i className=\"fa fa-asterisk\"></i>\n                    <span id=\"reset_all\" onClick={this.masterReset}>Master Reset</span>\n                  </a>\n                </li>\n                <li >\n                  <a href=\"#\" className=\"dropdown-toggle\" data-toggle=\"dropdown\" onClick={() => this.logout()}>\n                    <i className=\"fa fa-sign-out\"></i>\n                    <span id=\"logout_button\" className=\"hidden-xs\" onClick={() => this.logout()}>Logout</span>\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </nav>\n        </header>\n        <aside className=\"main-sidebar\">\n          <section className=\"sidebar\">\n            <div className=\"user-panel\">\n              <div className=\"pull-left image\">\n                {userInfo && (<img src={userInfo.attributes.gender === 'F' ? \"dist/img/avatar2.png\" : \"dist/img/avatar5.png\"} className=\"img-circle\" alt=\"User\" />)}\n              </div>\n              <div className=\"pull-left info\">\n                <p> {userInfo && userInfo.attributes.name} </p>\n                <a href=\"#\"><i className=\"fa fa-circle text-success\"></i> Online</a>\n              </div>\n            </div>\n            <ul className=\"sidebar-menu\" data-widget=\"tree\">\n              <li className=\"active treeview\">\n                <a href=\"#teacherwise_tab_1\" data-toggle=\"tab\" onClick={() => this.makeRegionActive('substitution')}>\n                  <i className=\"fa fa-dashboard\"></i> <span>Create Substitution Chart</span>\n                  <span className=\"pull-right-container\">\n                  </span>\n                </a>\n              </li>\n              <li className=\"treeview\">\n                <a href=\"#timetable_tab_1\" data-toggle=\"tab\" onClick={() => this.makeRegionActive('timetable')}>\n                  <i className=\"fa fa-search\"></i> <span> Timetable </span>\n                  <span className=\"pull-right-container\">\n                  </span>\n                </a>\n              </li>\n              <li className=\"treeview\">\n                <a href=\"#settings_tab_1\" data-toggle=\"tab\" onClick={() => this.makeRegionActive('settings')}>\n                  <i className=\"fa fa-cogs\"></i> <span> Settings </span>\n                  <span className=\"pull-right-container\">\n                  </span>\n                </a>\n              </li>\n              {/* <li className=\"treeview\">\n                <a href=\"#aboutus_tab_1\" data-toggle=\"tab\" onClick={() => this.makeRegionActive('aboutus')}>\n                  <i className=\"fa fa-phone\"></i> <span> Customer Support </span>\n                  <span className=\"pull-right-container\">\n                  </span>\n                </a>\n              </li> */}\n            </ul>\n          </section>\n        </aside>\n        {showRegion === 'substitution' && (<div className=\"content-wrapper\">\n          <section className=\"content\">\n            <div id=\"tabContent\" className=\"nav-tabs-custom\">\n              <ul className=\"nav nav-tabs\" style={{ background: \"#3c8dbc63\" }}>\n                <li className=\"active\"><a id=\"tab1\" href=\"#teacherwise_tab_1\" data-toggle=\"tab\" aria-expanded=\"true\">Mark Absentees</a></li>\n                <li className=\"\"><a href=\"#teacherwise_tab_2\" ref={confirmSubs => this.confirmSubsTab = confirmSubs} data-toggle=\"tab\" aria-expanded=\"false\">Teacherwise Substitution</a></li>\n                {/* <li className=\"\"><a href=\"#mergeclass_tab_3\" data-toggle=\"tab\" aria-expanded=\"false\">Mark Classes</a></li> */}\n                {/* <li className=\"\"><a href=\"#mergeclass_tab_4\" ref={confirmClassesTab => this.confirmClassesTab = confirmClassesTab} data-toggle=\"tab\" aria-expanded=\"false\">Merge Classes</a></li> */}\n              </ul>\n              <div className=\"tab-content\">\n                <div className=\"tab-pane active\" id=\"teacherwise_tab_1\">\n                  <div className=\"innerblock row\">\n                    <div className=\"element1 col-md-2\">\n                      <Select styles={{\n                        menu: provided => ({ ...provided, zIndex: 2 })\n                      }} placeholder='Select Day..' options={optionsDays} value={optionsDays[day]} onChange={opt => { updateDay(opt.value) }} />\n                    </div>\n                    <div className=\"element2 col-md-2\">\n                      <Select styles={{\n                        menu: provided => ({ ...provided, zIndex: 2 })\n                      }} placeholder='Select Teacher..' options={optionsTeachers} onChange={opt => { this.teacher_id = opt.value; this.teacher_name = opt.label; }} />\n                    </div>\n                    <div className=\"element3 col-md-1 center-block\">\n                      <button id=\"teacher_add_button\" className=\"btn btn-primary btn-sm\" type=\"button\" onClick={this.addTeacher} disabled={isAutoAssigning || isLoading} >Add Teacher</button>\n                    </div>\n                    <div className=\"element4 col-md-3\">\n                      <button id=\"generate_sub_table\" className=\"btn btn-success btn-sm\" onClick={this.submitTeachers} disabled={isAutoAssigning || isLoading} type=\"button\">Submit</button>\n                    </div>\n                  </div>\n                  <div className=\"innerblock row\">\n                  </div>\n                  <div className=\"innerblock\">\n                    <div className=\"title\">Teacher List</div>\n                    {(!isAutoAssigning && !isLoading) && <SortTable\n                      bodyData={teacherData}\n                      headerData={teacherTableHeaderData}\n                      fetchAndRenderSubsClassTable={this.fetchAndRenderSubsClassTable}\n                      fetchAndRenderSubsTeachersTable={this.fetchAndRenderSubsTeachersTable} />}\n                    {isAutoAssigning && <> <div className=\"loader-small\"></div> <div> Auto assigning ... </div></>}\n                  </div>\n                  {/* Uncomment for showing teacher requests */}\n                  {/* <div className=\"innerblock\">\n                    <div className=\"title\">Teacher Requests</div>\n                    {(!isAutoAssigning && !isLoading) && <SortTable\n                      bodyData={teacherRequestData}\n                      headerData={teacherRequestHeaderData} />}\n                  </div> */}\n                </div>\n                <div className=\"tab-pane\" id=\"teacherwise_tab_2\">\n                  <div className=\"innerblock\">\n                    <button id=\"auto_sub_table\" className=\"btn btn-primary btn-sm\" onClick={this.autoSubstitute} type=\"button\" disabled={isAutoAssigning || isLoading}>Auto Assign</button>\n                    <button id=\"export\" style={{ marginLeft: 10 }} onClick={this.export} className=\"btn btn-primary btn-sm\" disabled={isAutoAssigning || isLoading}> Export</button>\n                    <button id=\"export_subs_teacher_timetable\" style={{ marginLeft: 10 }} onClick={this.exportSubsTeacherTimetable} className=\"btn btn-primary btn-sm\" disabled={isAutoAssigning || isLoading}> Substitutes Allocation</button>                    \n                    {/* <button id=\"send_mail\" style={{ marginLeft: 10 }} onClick={this.sendMail} className=\"btn btn-primary btn-sm\" disabled={isAutoAssigning || isLoading}> Send Mail</button> */}\n                  </div>\n                  <div className=\"innerblock\">\n                    <div className=\"title\">Teacher TimeTable</div>\n                    {(!isAutoAssigning && !isLoading) && <SortTable\n                      bodyData={periodsData}\n                      headerData={this.chartTableHeaderData}\n                      fetchAndRenderSubsClassTable={this.fetchAndRenderSubsClassTable}\n                      fetchAndRenderSubsTeachersTable={this.fetchAndRenderSubsTeachersTable} />}\n                    {isAutoAssigning && <> <div className=\"loader-small\"></div> <div> Auto assigning ... </div></>}\n                  </div>\n                  <div className=\"innerblock\">\n                    <div className=\"title\">Assigned Teachers</div>\n                    <div>\n                      <SortTable\n                        bodyData={assignedPeriodsData}\n                        headerData={assignedPeriodsDataHeader} />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"tab-pane\" id=\"mergeclass_tab_3\">\n                  <div className=\"innerblock\">\n                    <div className=\"element1 col-md-2\">\n                      <Select styles={{\n                        menu: provided => ({ ...provided, zIndex: 2 })\n                      }} placeholder='Select Class..' options={optionsClasses} onChange={opt => { this.class_id = opt.value; this.class_section = opt.label; }} />\n                    </div>\n                    <button id=\"class_add_button\" style={{ marginLeft: 10 }} onClick={this.addClass} className=\"btn btn-primary btn-sm\" disabled={isAutoAssigning || isLoading} type=\"button\">Add Class</button>\n                    <button id=\"generate_class_table\" style={{ marginLeft: 10 }} onClick={this.submitClasses} disabled={isAutoAssigning || isLoading} className=\"btn btn-success btn-sm\" type=\"button\">Submit</button>\n                    <div className=\"innerblock\">\n                      <div className=\"title\">Class List</div>\n                      {(!isAutoAssigning && !isLoading) && <SortTable bodyData={classData} headerData={classTableHeaderData}\n                        fetchAndRenderSubsClassTable={this.fetchAndRenderSubsClassTable} />}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"tab-pane\" id=\"mergeclass_tab_4\">\n                  <div className=\"innerblock\">\n                    <button id=\"export\" style={{ marginLeft: 10 }} onClick={this.export} className=\"btn btn-primary btn-sm\" disabled={isAutoAssigning || isLoading}> Export </button>\n                    <button id=\"send_mail\" style={{ marginLeft: 10 }} onClick={this.sendMail} className=\"btn btn-primary btn-sm\" disabled={isAutoAssigning || isLoading}> Send Mail</button>\n                  </div>\n                  <div className=\"innerblock\">\n                    <div className=\"title\">Class TimeTable</div>\n                    {(!isAutoAssigning && !isLoading) && <SortTable\n                      bodyData={classPeriodsData}\n                      headerData={this.classChartTableHeaderData}\n                      fetchAndRenderSubsClassTable={this.fetchAndRenderSubsClassTable}\n                      fetchAndRenderSubsTeachersTable={this.fetchAndRenderSubsTeachersTable} />}\n                    {isAutoAssigning && <> <div className=\"loader-small\"></div> <div> Auto assigning ... </div></>}\n                  </div>\n                  <div className=\"innerblock\">\n                    <div className=\"title\">Assigned Teachers</div>\n                    <div>\n                      <SortTable\n                        bodyData={assignedPeriodsData}\n                        headerData={assignedPeriodsDataHeader} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>)}\n        {showRegion === 'aboutus' && (<div className=\"content-wrapper\">\n          <AboutUs />\n        </div>)}\n\n        {showRegion === 'timetable' && (<div className=\"content-wrapper\">\n          <section className=\"content\">\n            <div id=\"tabContent\" className=\"nav-tabs-custom\">\n              <ul className=\"nav nav-tabs\" style={{ background: \"#3c8dbc63\" }}>\n                {/* <li className=\"active\"><a id=\"tab1\" href=\"#info_tab_1\" data-toggle=\"tab\" aria-expanded=\"false\">Legends</a></li> */}\n                <li className=\"active\"><a id=\"tab2\" href=\"#info_tab_1\" data-toggle=\"tab\" aria-expanded=\"false\">Timetable</a></li>\n              </ul>\n              <div className=\"tab-content\">\n                {/* <div className=\"tab-pane active\" id=\"info_tab_1\">\n                  <section className=\"mb-4\">\n                    <div className=\"innerblock\">\n                      <SortTable\n                        bodyData={legendsData}\n                        headerData={legendsHeader} />\n                    </div>\n                  </section>\n                </div> */}\n                <div className=\"tab-pane active\" id=\"info_tab_1\">\n                  <div className=\"innerblock\">\n                    <Select styles={{\n                      menu: provided => ({ ...provided, zIndex: 2 })\n                    }} placeholder='Select Teacher..' options={optionsTeachers}\n                      onChange={opt => {\n                        this.displayTeacherTimeTable(opt.label, opt.value);\n                        this.teacherTimetableId = opt.value;\n                        this.timetableTeacherName = opt.label;\n                      }} />\n                  </div>\n                  <div className=\"innerblock\">\n                    <button id=\"export_timetable\" onClick={this.exportTimetable} className=\"btn btn-primary btn-sm\" disabled={isAutoAssigning || isLoading}> Export</button>\n                  </div>\n                  <div className=\"innerblock\">\n                    <div className=\"title\">{this.timetableTeacherName}</div>\n                    <SortTable\n                      bodyData={teacherTableData}\n                      headerData={this.teacherTimeTableHeaderData} />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>)}\n\n        {showRegion === 'settings' && (<div className=\"content-wrapper\">\n          <section className=\"content\">\n            <div id=\"tabContent\" className=\"nav-tabs-custom\">\n              <ul className=\"nav nav-tabs\" style={{ background: \"#3c8dbc63\" }}>\n                <li className=\"active\"><a id=\"tab1\" href=\"#settings_tab_1\" data-toggle=\"tab\" aria-expanded=\"false\">Autosubstitution</a></li>\n              </ul>\n              <div className=\"tab-content\">\n                <div className=\"tab-pane active\" id=\"blacklist_tab_1\">\n                  <section className=\"mb-4\">\n                  <div className=\"innerblock\">\n                    Add teachers to this list to prevent them from being picked up for Autosubstitution.\n                    </div>\n                    <div className=\"innerblock\">\n                      <Select styles={{\n                        menu: provided => ({ ...provided, zIndex: 2 })\n                      }} options={optionsTeachers} onChange={opt => { this.addTeacherToBlackList(opt) }} />\n                    </div>\n                    <div className=\"innerblock\">\n                      <SortTable\n                        bodyData={blackListData}\n                        headerData={blacklistTeacherDataHeader} />\n                    </div>\n\n                  </section>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>)}\n      </div>\n    </>\n    )\n  }\n};\n\nconst mapStateToProps = state => {\n  return {\n    schoolId: state.schoolId,\n    periodCount: state.periodCount,\n    isAutoAssigning: state.isAutoAssigning,\n    day: state.day,\n    optionsTeachers: state.optionsTeachers,\n    optionsClasses: state.optionsClasses,\n    selectedTeachersIds: new Set(state.selectedTeachersIds),\n    selectedTeachersNames: new Set(state.selectedTeachersNames),\n    selectedClassesIds: new Set(state.selectedClassesIds),\n    selectedClassesNames: new Set(state.selectedClassesNames),\n    blackListTeachersIds: new Set(state.blackListTeachersIds),\n    blackListTeachersNames: new Set(state.blackListTeachersNames),\n    userInfo: state.userInfo,\n    isLoading: state.isLoading\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  updateDay: (day) => dispatch(updateDay(day)),\n  updateTeachersList: (teachers) => dispatch(updateTeachersList(teachers)),\n  updateClassesList: (classes) => dispatch(updateClassesList(classes)),\n  updateSelectedTeachersInfo: (ids, names) => dispatch(updateSelectedTeachersInfo(ids, names)),\n  updateSelectedClassesInfo: (ids, names) => dispatch(updateSelectedClassesInfo(ids, names)),\n  updateBlackListedTeachersInfo: (ids, names) => dispatch(updateBlackListedTeachersInfo(ids, names)),\n  enableLoading: () => dispatch(enableLoading()),\n  disableLoading: () => dispatch(disableLoading()),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withCookies(Dashboard));","export const optionsGender = [\n    { value: 'M', label: 'Male' },\n    { value: 'F', label: 'Female' },\n  ];\n\nexport const optionsUserType = [\n    { value: 'Admin', label: 'Admin' },\n    { value: 'Staff', label: 'Staff' },\n    { value: 'Superuser', label: 'Superuser' },\n  ];\n\nexport default {optionsGender, optionsUserType};\n","import React from \"react\";\nimport { connect } from 'react-redux';\nimport $ from 'jquery';\nimport { config } from '../config';\nimport axios from 'axios';\nimport Select from 'react-select';\nimport { Auth } from 'aws-amplify';\nimport { withCookies } from 'react-cookie';\nimport { optionsGender, optionsUserType } from './constants';\n\nimport {\n  updateSchoolInfo,\n  setUserInfo, enableLoading, disableLoading\n} from '../redux/actionCreator';\n\nclass OnboardPartner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showOnboardRegion: true,\n      showUpdateRegion: false,\n      file: undefined\n    };\n    this.newUserData = {};\n    this.oldUserData = {};\n    this.fill_all_fields = 'Please fill all the fields';\n  }\n\n  makeRegionActive = (showOnboardRegion, showUpdateRegion) => {\n    this.setState({ showOnboardRegion: showOnboardRegion, showUpdateRegion: showUpdateRegion, file: undefined });\n  }\n\n  // remove cookie for login session\n  logout = () => {\n    const { cookies } = this.props;\n    this.setState({ userData: 'John Doe' });\n    cookies.remove(config.expire_cookie_field);\n    Auth.signOut();\n  }\n\n  createUser = () => {\n\n    if (!this.newUserData.name || !this.newUserData.userName || !this.newUserData.password || !this.newUserData.birthDate ||\n      !this.newUserData.email || !this.newUserData.gender || !this.newUserData.orgName || !this.newUserData.userType) {\n      alert(this.fill_all_fields);\n      return;\n    }\n    Auth.signUp({\n      username: this.newUserData.userName, password: this.newUserData.password, attributes: {\n        birthdate: this.newUserData.birthDate,\n        gender: this.newUserData.gender, email: this.newUserData.email, name: this.newUserData.name,\n        'custom:School': this.newUserData.orgName, 'custom:userRole': this.newUserData.userType\n      }\n    }).then(() => {\n      alert(\"New User created successfully\");\n    }).catch(() => {\n      alert(\"Some error occured.\");\n    });\n  };\n\n  updateUser = () => {\n    if (!this.oldUserData.orgName || !this.oldUserData.userType) {\n      alert(this.fill_all_fields);\n    };\n\n    Auth.currentAuthenticatedUser()\n      .then(data => Auth.updateUserAttributes(data, { 'custom:School': this.oldUserData.orgName, 'custom:userRole': this.oldUserData.userType })\n        .then(() => alert(\"User update successfully\"))\n        .catch(() => alert(\"Some error occured.\"))\n      )\n      .catch(() => alert(\"Some error occured.\"));\n  }\n\n  uploadTimeTable = () => {\n    const { file } = this.state;\n    if (!file) {\n      alert('Please select a file first');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', file)\n    const config_axios = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    }\n    axios.post(config.service_base_url + \"/api/upload_school_timetable/\", formData, config_axios)\n      .then(() => { alert('Upload has started'); this.setState({ file: undefined }); })\n      .catch(() => alert('Some error occured'));\n  }\n  componentDidMount() {\n    const { cookies } = this.props;\n    //setting a cookie\n    let date = new Date();\n    let session_time_str = cookies.get(config.expire_cookie_field);\n    if (!session_time_str) {\n      cookies.set(config.expire_cookie_field, date, { path: '/' });\n    }\n  }\n\n  render() {\n    const { showOnboardRegion, showUpdateRegion } = this.state;\n    const { userInfo } = this.props;\n    $(\".Section__container___3YYTG\").height('100%');\n    $(\".Section__container___3YYTG\").parent().height('100%');\n    return (\n      <div className=\"wrapper\" style={{ height: '100%' }}>\n        <header className=\"main-header\">\n          <a href=\"#\" className=\"logo\">\n            <span className=\"logo-mini\"><b>S</b>PRO</span>\n            <span className=\"logo-lg\"><b>Substitution</b>PRO</span>\n          </a>\n          <nav className=\"navbar navbar-static-top\">\n            <a href=\"#\" className=\"sidebar-toggle\" data-toggle=\"push-menu\" role=\"button\">\n              <span className=\"sr-only\">Toggle navigation</span>\n            </a>\n            <div className=\"navbar-custom-menu\">\n              <ul className=\"nav navbar-nav\">\n                <li >\n                  <a href=\"#\" className=\"dropdown-toggle\" data-toggle=\"dropdown\">\n                    <i className=\"fa fa-sign-out\"></i>\n                    <span id=\"logout_button\" className=\"hidden-xs\" onClick={() => this.logout()}>Logout</span>\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </nav>\n        </header>\n        <aside className=\"main-sidebar\">\n          <section className=\"sidebar\">\n            <div className=\"user-panel\">\n            </div>\n            <ul className=\"sidebar-menu\" data-widget=\"tree\">\n              <li className=\"active treeview\" onClick={() => this.makeRegionActive(true, false)}>\n                <a id=\"lpane_1\" href=\"#tab_1\" data-toggle=\"tab\">\n                  <i className=\"fa fa-dashboard\"></i> <span>Onboard</span>\n                  <span className=\"pull-right-container\">\n                  </span>\n                </a>\n              </li>\n              <li className=\"treeview\">\n                <a id=\"lpane_1\" href=\"#tab_1\" data-toggle=\"tab\" onClick={() => this.makeRegionActive(false, true)}>\n                  <i className=\"fa fa-dashboard\"></i> <span>Update</span>\n                  <span className=\"pull-right-container\">\n                  </span>\n                </a>\n              </li>\n            </ul>\n          </section>\n        </aside>\n        {showOnboardRegion && (<div className=\"content-wrapper\">\n          <section className=\"content\">\n            <div id=\"tabContent\" className=\"nav-tabs-custom\">\n              <ul className=\"nav nav-tabs\" style={{ background: \"#3c8dbc63\" }}>\n                <li className=\"active\"><a id=\"tab1\" href=\"#tab_1\" data-toggle=\"tab\" aria-expanded=\"true\"> Register</a></li>\n                <li><a id=\"tab2\" href=\"#tab_2\" data-toggle=\"tab\" aria-expanded=\"true\"> Upload Timetable</a></li>\n              </ul>\n              <div className=\"tab-content\">\n                <div className=\"tab-pane active\" id=\"tab_1\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"example2\">Name</label>\n                    <input type=\"text\" id=\"example2\" className=\"form-control form-control-md\" onChange={(event) => this.newUserData.name = event.target.value} />\n                    <label htmlFor=\"example2\">Username</label>\n                    <input type=\"text\" id=\"example2\" className=\"form-control form-control-md\" onChange={(event) => this.newUserData.userName = event.target.value} />\n                    <label htmlFor=\"example2\">Password</label>\n                    <input type=\"password\" id=\"example2\" className=\"form-control form-control-md\" onChange={(event) => this.newUserData.password = event.target.value} />\n                    <label htmlFor=\"example2\">Birthdate</label>\n                    <input type=\"text\" id=\"example2\" className=\"form-control form-control-md\" onChange={(event) => this.newUserData.birthDate = event.target.value} />\n                    <label htmlFor=\"example2\">Email</label>\n                    <input type=\"text\" id=\"example2\" className=\"form-control form-control-md\" onChange={(event) => this.newUserData.email = event.target.value} />\n                    <label htmlFor=\"example2\">Gender</label>\n                    <Select options={optionsGender} onChange={(opt) => this.newUserData.gender = opt.value} />\n                    <label htmlFor=\"example2\">Organization Name</label>\n                    <input type=\"text\" id=\"example2\" className=\"form-control form-control-md\" onChange={(event) => this.newUserData.orgName = event.target.value} />\n                    <label htmlFor=\"example2\">User Type</label>\n                    <Select options={optionsUserType} onChange={(opt) => this.newUserData.userType = opt.value} />\n                  </div>\n                  <div className=\"innerblock row\">\n                    <div className=\"element4 col-md-3\">\n                      <button id=\"submit_request\" className=\"btn btn-success btn-sm\" onClick={this.createUser} type=\"button\">Submit</button>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"tab-pane\" id=\"tab_2\">\n                  <div className=\"innerblock row\">\n                    <div className=\"element4 col-md-3\">\n                      <input type=\"file\" name=\"file\" onChange={(e) => this.setState({ file: e.target.files[0] })} />\n                    </div>\n                  </div>\n                  <div className=\"innerblock row\">\n                    <div className=\"element4 col-md-3\">\n                      <button id=\"submit_request\" className=\"btn btn-success btn-sm\" onClick={this.uploadTimeTable} type=\"button\">Upload</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>)}\n        {showUpdateRegion && (<div className=\"content-wrapper\">\n          <section className=\"content\">\n            <div id=\"tabContent\" className=\"nav-tabs-custom\">\n              <ul className=\"nav nav-tabs\" style={{ background: \"#3c8dbc63\" }}>\n                <li className=\"active\"><a id=\"tab1\" href=\"#tab_1\" data-toggle=\"tab\" aria-expanded=\"true\"> Update User</a></li>\n                <li><a id=\"tab2\" href=\"#tab_2\" data-toggle=\"tab\" aria-expanded=\"true\"> Update Timetable </a></li>\n              </ul>\n              <div className=\"tab-content\">\n                <div className=\"tab-pane active\" id=\"tab_1\">\n                  <div className=\"form-group\">\n                    <label htmlFor=\"example2\">Current Organization Name : </label>\n                    <label className=\"form-control form-control-md\">{userInfo && userInfo.attributes['custom:School']}</label>\n                    <label htmlFor=\"example2\">New Organization Name</label>\n                    <input type=\"text\" id=\"example2\" className=\"form-control form-control-md\" onChange={(event) => this.oldUserData.orgName = event.target.value} />\n                    <label htmlFor=\"example2\">Current User Role : </label>\n                    <label className=\"form-control form-control-md\">{userInfo && userInfo.attributes['custom:userRole']}</label>\n                    <label htmlFor=\"example2\">New User Role</label>\n                    <Select options={optionsUserType} onChange={(opt) => this.oldUserData.userType = opt.value} />\n                  </div>\n                  <div className=\"innerblock row\">\n                    <div className=\"element4 col-md-3\">\n                      <button id=\"submit_request\" className=\"btn btn-success btn-sm\" onClick={this.updateUser} type=\"button\">Submit</button>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"tab-pane\" id=\"tab_2\">\n                  <div className=\"innerblock row\">\n                    <div className=\"element4 col-md-3\">\n                      <input type=\"file\" name=\"file\" onChange={(e) => this.setState({ file: e.target.files[0] })} />\n                    </div>\n                  </div>\n                  <div className=\"innerblock row\">\n                    <div className=\"element4 col-md-3\">\n                      <button id=\"submit_request\" className=\"btn btn-success btn-sm\" onClick={this.uploadTimeTable} type=\"button\">Upload</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>)}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    schoolId: state.schoolId,\n    userInfo: state.userInfo,\n    isLoading: state.isLoading\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  updateSchoolInfo: (schoolObj) => dispatch(updateSchoolInfo(schoolObj)),\n  setUserInfo: (userInfo) => dispatch(setUserInfo(userInfo)),\n  enableLoading: () => dispatch(enableLoading()),\n  disableLoading: () => dispatch(disableLoading()),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withCookies(OnboardPartner));","import React from \"react\";\n\nexport const errComponent = () => {\n    return (<div id=\"notfound\">\n        <div className=\"notfound\">\n            <div className=\"notfound-404\"></div>\n            <h1>404</h1>\n            <h2>Oops! Page Could Not Be Found</h2>\n            <p>Sorry but the page you are looking for does not exist, have been removed. name changed or is temporarily unavailable</p>\n        </div>\n    </div>);\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport AbsenceRequest from '../absencerequest/absencerequest';\nimport Dashboard from '../dashboard/dashboard';\nimport OnboardPartner from '../onboard-partner/onboard-partner';\nimport { HashRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport {\n  updateSchoolInfo, setUserInfo, resetReduxState\n} from '../redux/actionCreator';\nimport axios from 'axios';\nimport { Auth } from 'aws-amplify';\nimport { config } from '../config';\nimport { errComponent } from '../error/errorpage';\nimport { mainPageComponent } from '../main/page';\n\n\nclass LandingPage extends Component {\n  componentDidUpdate(prevProp) {\n    const { authState, updateSchoolInfo, setUserInfo, resetReduxState, cookies } = this.props;\n    if (prevProp.authState !== authState) {\n      if (authState === \"signedIn\") {\n        let date = new Date();\n        let session_time_str = cookies.get(config.expire_cookie_field);\n        if(session_time_str) {\n          var session_time = new Date(session_time_str);\n          var hours = Math.abs(date - session_time) / 36e5;\n          if (hours > config.expire_login) {\n            cookies.remove(config.expire_cookie_field);\n            Auth.signOut();\n            return;\n          }\n        }\n        Auth.currentSession().then(res=>{\n          let idToken = res.getIdToken();\n          let jwt = idToken.getJwtToken();\n          // set axios header globally to jwt\n          axios.defaults.headers.common['Authorization'] = jwt;\n\n          // set fresh jwt in case it expires\n          axios.interceptors.response.use(undefined, err => {\n            let res = err.response;\n            if (res.status === 401 && res.config && !res.config.__isRetryRequest) {\n              return new Promise((resolve, reject) => {\n                Auth.currentSession().then(res=>{\n                let idToken = res.getIdToken();\n                let jwt = idToken.getJwtToken();\n                err.config.headers.Authorization = jwt;\n                axios.defaults.headers.common['Authorization'] = jwt;\n                resolve(axios.request(err.config));\n              }).catch((error) => {\n                console.log('could not refresh credentials');\n                alert('Something went wrong.Please refresh the page');\n                reject(error);\n              });\n              });\n            }\n            else {\n              return new Promise((resolve, reject) => {\n                reject(err);\n              });\n            }\n          });\n\n          Auth.currentUserInfo().then((data) => {\n            console.log(data);\n            setUserInfo(data);\n            const s_name = data.attributes['custom:School']\n  \n            //fetch school id from name\n            axios.get(config.service_base_url + \"/api/get_school_info?school_name=\" + s_name)\n              .then((out_resp) => {\n                if (out_resp.data.data.id !== -1) {\n                  const schoolObj = {\n                    schoolId: out_resp.data.data.id,\n                    periodCount: out_resp.data.data.period_count,\n                    halfDayPeriod: out_resp.data.data.half_day_period,\n                    lastActiveDay: out_resp.data.data.last_active_day,\n                    isAutoAssigning: out_resp.data.data.is_auto_assigning\n                  }\n                  updateSchoolInfo(schoolObj);\n                }\n              }).catch((err) => console.log(err));\n  \n          }).catch((err) => console.log(err));\n        })\n      }\n      else if (authState === \"signIn\") {\n        resetReduxState();\n      }\n    }\n  }\n\n  render() {\n    const { authState, userInfo } = this.props;\n    console.log(userInfo);\n    return (\n      <Router>\n        {authState === \"signedIn\" && (\n          <div style={{ height: '100%' }}>\n            <Switch>\n              {userInfo && (userInfo.attributes['custom:userRole'] === 'Admin' || userInfo.attributes['custom:userRole'] === 'Superuser') &&\n                <Route path=\"/\" exact render={(props) => <Dashboard {...props} authState={authState} />} />}\n\n              {userInfo && (userInfo.attributes['custom:userRole'] === 'Staff' || \n              userInfo.attributes['custom:userRole'] === 'Admin' || userInfo.attributes['custom:userRole'] === 'Superuser') && \n              <Route path=\"/request-portal\" exact render={(props) => <AbsenceRequest {...props} authState={authState} />} />}\n\n              {userInfo && userInfo.attributes['custom:userRole'] === 'Superuser' &&\n              <Route path=\"/onboard-partner\" exact render={(props) => <OnboardPartner {...props} authState={authState} />} />}\n\n              {userInfo && userInfo.attributes['custom:userRole'] === 'Staff' && \n              <Route render={() => <Redirect to=\"/request-portal\" /> }  /> }\n              \n              {userInfo && <Route component={errComponent} />}\n              \n            </Switch>\n          </div>\n        )}\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    userInfo: state.userInfo,\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  updateSchoolInfo: (schoolObj) => dispatch(updateSchoolInfo(schoolObj)),\n  setUserInfo: (userInfo) => dispatch(setUserInfo(userInfo)),\n  resetReduxState: () => dispatch(resetReduxState()),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withCookies(LandingPage));","import React from \"react\";\nimport { SignIn, SignOut, Greetings } from \"aws-amplify-react\";\nimport { awsConfig } from \"../aws-exports\";\nimport { CustomSignIn } from \"../authenticator/signIn\";\nimport LandingPage from '../landingpage/landingpage';\nimport { Authenticator } from \"aws-amplify-react\";\n\nclass AppWithAuth extends React.Component {\n\n  render() {\n    return (\n      <div>\n        <Authenticator hide={[Greetings, SignIn, SignOut]} amplifyConfig={awsConfig} >\n          <CustomSignIn />\n          <LandingPage />\n        </Authenticator>\n      </div>\n    );\n  }\n}\n\n\nexport default AppWithAuth;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as types from './types';\n\n// Initial (starting) state\nlet day = new Date().getDay();\nif (day == 6 || day == 0) {\n    day = 0;\n}\nelse {\n    day = day - 1;\n}\nexport const initialState = {\n    schoolId: -1,\n    periodCount: 0,\n    halfDayPeriod: 0,\n    day: day,\n    optionsTeachers: [],\n    optionsClasses: [],\n    selectedTeachersIds: new Set(),\n    selectedTeachersNames: new Set(),\n    selectedClassesIds: new Set(),\n    selectedClassesNames: new Set(),\n    blackListTeachersIds: new Set(),\n    blackListTeachersNames: new Set(),\n    userInfo: undefined,\n    isLoading: false,\n    isAutoAssigning: false,\n}\n\n// Our root reducer starts with the initial state\n// and must return a representation of the next state\nexport const rootReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case types.UPDATE_SCHOOL_INFO:\n            return { ...state, schoolId: action.schoolId, periodCount: action.periodCount, day: action.lastActiveDay !== -1 ? action.lastActiveDay : state.day, \n                isAutoAssigning: action.isAutoAssigning, halfDayPeriod: action.halfDayPeriod };\n        case types.UPDATE_DAY:\n            return { ...state, day: action.payload };\n        case types.UPDATE_TEACHERS_LIST:\n            return { ...state, optionsTeachers: action.payload };\n        case types.UPDATE_SELECTED_TEACHERS_INFO:\n            return { ...state, selectedTeachersIds: action.payload.ids,  selectedTeachersNames: action.payload.names };\n        case types.UPDATE_CLASSES_LIST:\n            return { ...state, optionsClasses: action.payload };\n        case types.UPDATE_SELECTED_CLASSES_INFO:\n                return { ...state, selectedClassesIds: action.payload.ids, selectedClassesNames: action.payload.names };\n        case types.UPDATE_BLACK_LISTED_INFO:\n            return { ...state, blackListTeachersIds: action.payload.ids, blackListTeachersNames: action.payload.names };\n        case types.SET_USER_INFO:\n            return { ...state, userInfo: action.payload};\n        case types.ENABLE_LOADING:\n            return { ...state, isLoading: true };\n        case types.DISABLE_LOADING:\n            return { ...state, isLoading: false };\n        case types.RESET_REDUX_STATE:\n            return initialState;\n        default:\n            return state;\n    }\n}\n\nexport default { rootReducer, initialState };","import {createStore} from 'redux';\nimport { rootReducer, initialState } from './reducers'\n\nexport const configureStore = () => {\n    const store = createStore(\n        rootReducer, // root reducer\n        initialState, // our initialState,\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n      );\n\n  return store;\n}\n\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppWithAuth from './auth/appwithauth';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { configureStore } from './redux/configureStore';\nimport Amplify from 'aws-amplify'\nimport { awsConfig } from './aws-exports';\nimport { CookiesProvider } from 'react-cookie';\n\nAmplify.configure({\n    ...awsConfig,\n    Analytics: { \n        disabled: true\n    }});\n\nconst store = configureStore();\n\nReactDOM.render(<CookiesProvider><Provider store={store}><AppWithAuth /></Provider></CookiesProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}